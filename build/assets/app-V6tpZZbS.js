function Kr(n,t){return function(){return n.apply(t,arguments)}}const{toString:is}=Object.prototype,{getPrototypeOf:Fn}=Object,{iterator:Bt,toStringTag:Wr}=Symbol,qt=(n=>t=>{const e=is.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Ce=n=>(n=n.toLowerCase(),t=>qt(t)===n),Vt=n=>t=>typeof t===n,{isArray:Ge}=Array,Je=Vt("undefined");function ot(n){return n!==null&&!Je(n)&&n.constructor!==null&&!Je(n.constructor)&&le(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Jr=Ce("ArrayBuffer");function ss(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Jr(n.buffer),t}const os=Vt("string"),le=Vt("function"),Gr=Vt("number"),at=n=>n!==null&&typeof n=="object",as=n=>n===!0||n===!1,Dt=n=>{if(qt(n)!=="object")return!1;const t=Fn(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Wr in n)&&!(Bt in n)},ls=n=>{if(!at(n)||ot(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},cs=Ce("Date"),us=Ce("File"),ds=Ce("Blob"),fs=Ce("FileList"),ps=n=>at(n)&&le(n.pipe),hs=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||le(n.append)&&((t=qt(n))==="formdata"||t==="object"&&le(n.toString)&&n.toString()==="[object FormData]"))},gs=Ce("URLSearchParams"),[ms,vs,ys,bs]=["ReadableStream","Request","Response","Headers"].map(Ce),ws=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lt(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Ge(n))for(r=0,i=n.length;r<i;r++)t.call(null,n[r],r,n);else{if(ot(n))return;const o=e?Object.getOwnPropertyNames(n):Object.keys(n),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,n[a],a,n)}}function Qr(n,t){if(ot(n))return null;t=t.toLowerCase();const e=Object.keys(n);let r=e.length,i;for(;r-- >0;)if(i=e[r],t===i.toLowerCase())return i;return null}const He=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xr=n=>!Je(n)&&n!==He;function Sn(){const{caseless:n,skipUndefined:t}=Xr(this)&&this||{},e={},r=(i,o)=>{const s=n&&Qr(e,o)||o;Dt(e[s])&&Dt(i)?e[s]=Sn(e[s],i):Dt(i)?e[s]=Sn({},i):Ge(i)?e[s]=i.slice():(!t||!Je(i))&&(e[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&lt(arguments[i],r);return e}const Os=(n,t,e,{allOwnKeys:r}={})=>(lt(t,(i,o)=>{e&&le(i)?n[o]=Kr(i,e):n[o]=i},{allOwnKeys:r}),n),Cs=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),_s=(n,t,e,r)=>{n.prototype=Object.create(t.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},Ss=(n,t,e,r)=>{let i,o,s;const a={};if(t=t||{},n==null)return t;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)s=i[o],(!r||r(s,n,t))&&!a[s]&&(t[s]=n[s],a[s]=!0);n=e!==!1&&Fn(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},Es=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const r=n.indexOf(t,e);return r!==-1&&r===e},As=n=>{if(!n)return null;if(Ge(n))return n;let t=n.length;if(!Gr(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},xs=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&Fn(Uint8Array)),Ds=(n,t)=>{const r=(n&&n[Bt]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(n,o[0],o[1])}},ks=(n,t)=>{let e;const r=[];for(;(e=n.exec(t))!==null;)r.push(e);return r},Is=Ce("HTMLFormElement"),Ts=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,r,i){return r.toUpperCase()+i}),Kn=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),Fs=Ce("RegExp"),Zr=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),r={};lt(e,(i,o)=>{let s;(s=t(i,o,n))!==!1&&(r[o]=s||i)}),Object.defineProperties(n,r)},Ms=n=>{Zr(n,(t,e)=>{if(le(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const r=n[e];if(le(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Ls=(n,t)=>{const e={},r=i=>{i.forEach(o=>{e[o]=!0})};return Ge(n)?r(n):r(String(n).split(t)),e},Ps=()=>{},Ns=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function Rs(n){return!!(n&&le(n.append)&&n[Wr]==="FormData"&&n[Bt])}const $s=n=>{const t=new Array(10),e=(r,i)=>{if(at(r)){if(t.indexOf(r)>=0)return;if(ot(r))return r;if(!("toJSON"in r)){t[i]=r;const o=Ge(r)?[]:{};return lt(r,(s,a)=>{const l=e(s,i+1);!Je(l)&&(o[a]=l)}),t[i]=void 0,o}}return r};return e(n,0)},Hs=Ce("AsyncFunction"),js=n=>n&&(at(n)||le(n))&&le(n.then)&&le(n.catch),ei=((n,t)=>n?setImmediate:t?((e,r)=>(He.addEventListener("message",({source:i,data:o})=>{i===He&&o===e&&r.length&&r.shift()()},!1),i=>{r.push(i),He.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",le(He.postMessage)),Bs=typeof queueMicrotask<"u"?queueMicrotask.bind(He):typeof process<"u"&&process.nextTick||ei,qs=n=>n!=null&&le(n[Bt]),y={isArray:Ge,isArrayBuffer:Jr,isBuffer:ot,isFormData:hs,isArrayBufferView:ss,isString:os,isNumber:Gr,isBoolean:as,isObject:at,isPlainObject:Dt,isEmptyObject:ls,isReadableStream:ms,isRequest:vs,isResponse:ys,isHeaders:bs,isUndefined:Je,isDate:cs,isFile:us,isBlob:ds,isRegExp:Fs,isFunction:le,isStream:ps,isURLSearchParams:gs,isTypedArray:xs,isFileList:fs,forEach:lt,merge:Sn,extend:Os,trim:ws,stripBOM:Cs,inherits:_s,toFlatObject:Ss,kindOf:qt,kindOfTest:Ce,endsWith:Es,toArray:As,forEachEntry:Ds,matchAll:ks,isHTMLForm:Is,hasOwnProperty:Kn,hasOwnProp:Kn,reduceDescriptors:Zr,freezeMethods:Ms,toObjectSet:Ls,toCamelCase:Ts,noop:Ps,toFiniteNumber:Ns,findKey:Qr,global:He,isContextDefined:Xr,isSpecCompliantForm:Rs,toJSONObject:$s,isAsyncFn:Hs,isThenable:js,setImmediate:ei,asap:Bs,isIterable:qs};function N(n,t,e,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}y.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.status}}});const ti=N.prototype,ni={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ni[n]={value:n}});Object.defineProperties(N,ni);Object.defineProperty(ti,"isAxiosError",{value:!0});N.from=(n,t,e,r,i,o)=>{const s=Object.create(ti);y.toFlatObject(n,s,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const a=n&&n.message?n.message:"Error",l=t==null&&n?n.code:t;return N.call(s,a,l,e,r,i),n&&s.cause==null&&Object.defineProperty(s,"cause",{value:n,configurable:!0}),s.name=n&&n.name||"Error",o&&Object.assign(s,o),s};const Vs=null;function En(n){return y.isPlainObject(n)||y.isArray(n)}function ri(n){return y.endsWith(n,"[]")?n.slice(0,-2):n}function Wn(n,t,e){return n?n.concat(t).map(function(i,o){return i=ri(i),!e&&o?"["+i+"]":i}).join(e?".":""):t}function Us(n){return y.isArray(n)&&!n.some(En)}const Ys=y.toFlatObject(y,{},null,function(t){return/^is[A-Z]/.test(t)});function Ut(n,t,e){if(!y.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=y.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,O){return!y.isUndefined(O[v])});const r=e.metaTokens,i=e.visitor||d,o=e.dots,s=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(t);if(!y.isFunction(i))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(y.isDate(h))return h.toISOString();if(y.isBoolean(h))return h.toString();if(!l&&y.isBlob(h))throw new N("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(h)||y.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,v,O){let S=h;if(h&&!O&&typeof h=="object"){if(y.endsWith(v,"{}"))v=r?v:v.slice(0,-2),h=JSON.stringify(h);else if(y.isArray(h)&&Us(h)||(y.isFileList(h)||y.endsWith(v,"[]"))&&(S=y.toArray(h)))return v=ri(v),S.forEach(function(x,L){!(y.isUndefined(x)||x===null)&&t.append(s===!0?Wn([v],L,o):s===null?v:v+"[]",c(x))}),!1}return En(h)?!0:(t.append(Wn(O,v,o),c(h)),!1)}const p=[],m=Object.assign(Ys,{defaultVisitor:d,convertValue:c,isVisitable:En});function A(h,v){if(!y.isUndefined(h)){if(p.indexOf(h)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(h),y.forEach(h,function(S,w){(!(y.isUndefined(S)||S===null)&&i.call(t,S,y.isString(w)?w.trim():w,v,m))===!0&&A(S,v?v.concat(w):[w])}),p.pop()}}if(!y.isObject(n))throw new TypeError("data must be an object");return A(n),t}function Jn(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Mn(n,t){this._pairs=[],n&&Ut(n,this,t)}const ii=Mn.prototype;ii.append=function(t,e){this._pairs.push([t,e])};ii.toString=function(t){const e=t?function(r){return t.call(this,r,Jn)}:Jn;return this._pairs.map(function(i){return e(i[0])+"="+e(i[1])},"").join("&")};function zs(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function si(n,t,e){if(!t)return n;const r=e&&e.encode||zs;y.isFunction(e)&&(e={serialize:e});const i=e&&e.serialize;let o;if(i?o=i(t,e):o=y.isURLSearchParams(t)?t.toString():new Mn(t,e).toString(r),o){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class Gn{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){y.forEach(this.handlers,function(r){r!==null&&t(r)})}}const oi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ks=typeof URLSearchParams<"u"?URLSearchParams:Mn,Ws=typeof FormData<"u"?FormData:null,Js=typeof Blob<"u"?Blob:null,Gs={isBrowser:!0,classes:{URLSearchParams:Ks,FormData:Ws,Blob:Js},protocols:["http","https","file","blob","url","data"]},Ln=typeof window<"u"&&typeof document<"u",An=typeof navigator=="object"&&navigator||void 0,Qs=Ln&&(!An||["ReactNative","NativeScript","NS"].indexOf(An.product)<0),Xs=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Zs=Ln&&window.location.href||"http://localhost",eo=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ln,hasStandardBrowserEnv:Qs,hasStandardBrowserWebWorkerEnv:Xs,navigator:An,origin:Zs},Symbol.toStringTag,{value:"Module"})),te={...eo,...Gs};function to(n,t){return Ut(n,new te.classes.URLSearchParams,{visitor:function(e,r,i,o){return te.isNode&&y.isBuffer(e)?(this.append(r,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function no(n){return y.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ro(n){const t={},e=Object.keys(n);let r;const i=e.length;let o;for(r=0;r<i;r++)o=e[r],t[o]=n[o];return t}function ai(n){function t(e,r,i,o){let s=e[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=e.length;return s=!s&&y.isArray(i)?i.length:s,l?(y.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!y.isObject(i[s]))&&(i[s]=[]),t(e,r,i[s],o)&&y.isArray(i[s])&&(i[s]=ro(i[s])),!a)}if(y.isFormData(n)&&y.isFunction(n.entries)){const e={};return y.forEachEntry(n,(r,i)=>{t(no(r),i,e,0)}),e}return null}function io(n,t,e){if(y.isString(n))try{return(t||JSON.parse)(n),y.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(e||JSON.stringify)(n)}const ct={transitional:oi,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const r=e.getContentType()||"",i=r.indexOf("application/json")>-1,o=y.isObject(t);if(o&&y.isHTMLForm(t)&&(t=new FormData(t)),y.isFormData(t))return i?JSON.stringify(ai(t)):t;if(y.isArrayBuffer(t)||y.isBuffer(t)||y.isStream(t)||y.isFile(t)||y.isBlob(t)||y.isReadableStream(t))return t;if(y.isArrayBufferView(t))return t.buffer;if(y.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return to(t,this.formSerializer).toString();if((a=y.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ut(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||i?(e.setContentType("application/json",!1),io(t)):t}],transformResponse:[function(t){const e=this.transitional||ct.transitional,r=e&&e.forcedJSONParsing,i=this.responseType==="json";if(y.isResponse(t)||y.isReadableStream(t))return t;if(t&&y.isString(t)&&(r&&!this.responseType||i)){const s=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?N.from(a,N.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:te.classes.FormData,Blob:te.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],n=>{ct.headers[n]={}});const so=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oo=n=>{const t={};let e,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),e=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!e||t[e]&&so[e])&&(e==="set-cookie"?t[e]?t[e].push(r):t[e]=[r]:t[e]=t[e]?t[e]+", "+r:r)}),t},Qn=Symbol("internals");function tt(n){return n&&String(n).trim().toLowerCase()}function kt(n){return n===!1||n==null?n:y.isArray(n)?n.map(kt):String(n)}function ao(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=e.exec(n);)t[r[1]]=r[2];return t}const lo=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function tn(n,t,e,r,i){if(y.isFunction(r))return r.call(this,t,e);if(i&&(t=e),!!y.isString(t)){if(y.isString(r))return t.indexOf(r)!==-1;if(y.isRegExp(r))return r.test(t)}}function co(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,r)=>e.toUpperCase()+r)}function uo(n,t){const e=y.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+e,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}let ce=class{constructor(t){t&&this.set(t)}set(t,e,r){const i=this;function o(a,l,c){const d=tt(l);if(!d)throw new Error("header name must be a non-empty string");const p=y.findKey(i,d);(!p||i[p]===void 0||c===!0||c===void 0&&i[p]!==!1)&&(i[p||l]=kt(a))}const s=(a,l)=>y.forEach(a,(c,d)=>o(c,d,l));if(y.isPlainObject(t)||t instanceof this.constructor)s(t,e);else if(y.isString(t)&&(t=t.trim())&&!lo(t))s(oo(t),e);else if(y.isObject(t)&&y.isIterable(t)){let a={},l,c;for(const d of t){if(!y.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?y.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}s(a,e)}else t!=null&&o(e,t,r);return this}get(t,e){if(t=tt(t),t){const r=y.findKey(this,t);if(r){const i=this[r];if(!e)return i;if(e===!0)return ao(i);if(y.isFunction(e))return e.call(this,i,r);if(y.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=tt(t),t){const r=y.findKey(this,t);return!!(r&&this[r]!==void 0&&(!e||tn(this,this[r],r,e)))}return!1}delete(t,e){const r=this;let i=!1;function o(s){if(s=tt(s),s){const a=y.findKey(r,s);a&&(!e||tn(r,r[a],a,e))&&(delete r[a],i=!0)}}return y.isArray(t)?t.forEach(o):o(t),i}clear(t){const e=Object.keys(this);let r=e.length,i=!1;for(;r--;){const o=e[r];(!t||tn(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const e=this,r={};return y.forEach(this,(i,o)=>{const s=y.findKey(r,o);if(s){e[s]=kt(i),delete e[o];return}const a=t?co(o):String(o).trim();a!==o&&delete e[o],e[a]=kt(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return y.forEach(this,(r,i)=>{r!=null&&r!==!1&&(e[i]=t&&y.isArray(r)?r.join(", "):r)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Qn]=this[Qn]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=tt(s);r[a]||(uo(i,s),r[a]=!0)}return y.isArray(t)?t.forEach(o):o(t),this}};ce.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(ce.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(r){this[e]=r}}});y.freezeMethods(ce);function nn(n,t){const e=this||ct,r=t||e,i=ce.from(r.headers);let o=r.data;return y.forEach(n,function(a){o=a.call(e,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function li(n){return!!(n&&n.__CANCEL__)}function Qe(n,t,e){N.call(this,n??"canceled",N.ERR_CANCELED,t,e),this.name="CanceledError"}y.inherits(Qe,N,{__CANCEL__:!0});function ci(n,t,e){const r=e.config.validateStatus;!e.status||!r||r(e.status)?n(e):t(new N("Request failed with status code "+e.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function fo(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function po(n,t){n=n||10;const e=new Array(n),r=new Array(n);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),d=r[o];s||(s=c),e[i]=l,r[i]=c;let p=o,m=0;for(;p!==i;)m+=e[p++],p=p%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),c-s<t)return;const A=d&&c-d;return A?Math.round(m*1e3/A):void 0}}function ho(n,t){let e=0,r=1e3/t,i,o;const s=(c,d=Date.now())=>{e=d,i=null,o&&(clearTimeout(o),o=null),n(...c)};return[(...c)=>{const d=Date.now(),p=d-e;p>=r?s(c,d):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-p)))},()=>i&&s(i)]}const Mt=(n,t,e=3)=>{let r=0;const i=po(50,250);return ho(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),d=s<=a;r=s;const p={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};n(p)},e)},Xn=(n,t)=>{const e=n!=null;return[r=>t[0]({lengthComputable:e,total:n,loaded:r}),t[1]]},Zn=n=>(...t)=>y.asap(()=>n(...t)),go=te.hasStandardBrowserEnv?((n,t)=>e=>(e=new URL(e,te.origin),n.protocol===e.protocol&&n.host===e.host&&(t||n.port===e.port)))(new URL(te.origin),te.navigator&&/(msie|trident)/i.test(te.navigator.userAgent)):()=>!0,mo=te.hasStandardBrowserEnv?{write(n,t,e,r,i,o,s){if(typeof document>"u")return;const a=[`${n}=${encodeURIComponent(t)}`];y.isNumber(e)&&a.push(`expires=${new Date(e).toUTCString()}`),y.isString(r)&&a.push(`path=${r}`),y.isString(i)&&a.push(`domain=${i}`),o===!0&&a.push("secure"),y.isString(s)&&a.push(`SameSite=${s}`),document.cookie=a.join("; ")},read(n){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vo(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function yo(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function ui(n,t,e){let r=!vo(t);return n&&(r||e==!1)?yo(n,t):t}const er=n=>n instanceof ce?{...n}:n;function Be(n,t){t=t||{};const e={};function r(c,d,p,m){return y.isPlainObject(c)&&y.isPlainObject(d)?y.merge.call({caseless:m},c,d):y.isPlainObject(d)?y.merge({},d):y.isArray(d)?d.slice():d}function i(c,d,p,m){if(y.isUndefined(d)){if(!y.isUndefined(c))return r(void 0,c,p,m)}else return r(c,d,p,m)}function o(c,d){if(!y.isUndefined(d))return r(void 0,d)}function s(c,d){if(y.isUndefined(d)){if(!y.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,p){if(p in t)return r(c,d);if(p in n)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,d,p)=>i(er(c),er(d),p,!0)};return y.forEach(Object.keys({...n,...t}),function(d){const p=l[d]||i,m=p(n[d],t[d],d);y.isUndefined(m)&&p!==a||(e[d]=m)}),e}const di=n=>{const t=Be({},n);let{data:e,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;if(t.headers=s=ce.from(s),t.url=si(ui(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),y.isFormData(e)){if(te.hasStandardBrowserEnv||te.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(y.isFunction(e.getHeaders)){const l=e.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,p])=>{c.includes(d.toLowerCase())&&s.set(d,p)})}}if(te.hasStandardBrowserEnv&&(r&&y.isFunction(r)&&(r=r(t)),r||r!==!1&&go(t.url))){const l=i&&o&&mo.read(o);l&&s.set(i,l)}return t},bo=typeof XMLHttpRequest<"u",wo=bo&&function(n){return new Promise(function(e,r){const i=di(n);let o=i.data;const s=ce.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,p,m,A,h;function v(){A&&A(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let O=new XMLHttpRequest;O.open(i.method.toUpperCase(),i.url,!0),O.timeout=i.timeout;function S(){if(!O)return;const x=ce.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),q={data:!a||a==="text"||a==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:x,config:n,request:O};ci(function(C){e(C),v()},function(C){r(C),v()},q),O=null}"onloadend"in O?O.onloadend=S:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(S)},O.onabort=function(){O&&(r(new N("Request aborted",N.ECONNABORTED,n,O)),O=null)},O.onerror=function(L){const q=L&&L.message?L.message:"Network Error",j=new N(q,N.ERR_NETWORK,n,O);j.event=L||null,r(j),O=null},O.ontimeout=function(){let L=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const q=i.transitional||oi;i.timeoutErrorMessage&&(L=i.timeoutErrorMessage),r(new N(L,q.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,n,O)),O=null},o===void 0&&s.setContentType(null),"setRequestHeader"in O&&y.forEach(s.toJSON(),function(L,q){O.setRequestHeader(q,L)}),y.isUndefined(i.withCredentials)||(O.withCredentials=!!i.withCredentials),a&&a!=="json"&&(O.responseType=i.responseType),c&&([m,h]=Mt(c,!0),O.addEventListener("progress",m)),l&&O.upload&&([p,A]=Mt(l),O.upload.addEventListener("progress",p),O.upload.addEventListener("loadend",A)),(i.cancelToken||i.signal)&&(d=x=>{O&&(r(!x||x.type?new Qe(null,n,O):x),O.abort(),O=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const w=fo(i.url);if(w&&te.protocols.indexOf(w)===-1){r(new N("Unsupported protocol "+w+":",N.ERR_BAD_REQUEST,n));return}O.send(o||null)})},Oo=(n,t)=>{const{length:e}=n=n?n.filter(Boolean):[];if(t||e){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof N?d:new Qe(d instanceof Error?d.message:d))}};let s=t&&setTimeout(()=>{s=null,o(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t);const a=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),n=null)};n.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>y.asap(a),l}},Co=function*(n,t){let e=n.byteLength;if(e<t){yield n;return}let r=0,i;for(;r<e;)i=r+t,yield n.slice(r,i),r=i},_o=async function*(n,t){for await(const e of So(n))yield*Co(e,t)},So=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},tr=(n,t,e,r)=>{const i=_o(n,t);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let p=d.byteLength;if(e){let m=o+=p;e(m)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},nr=64*1024,{isFunction:vt}=y,Eo=(({Request:n,Response:t})=>({Request:n,Response:t}))(y.global),{ReadableStream:rr,TextEncoder:ir}=y.global,sr=(n,...t)=>{try{return!!n(...t)}catch{return!1}},Ao=n=>{n=y.merge.call({skipUndefined:!0},Eo,n);const{fetch:t,Request:e,Response:r}=n,i=t?vt(t):typeof fetch=="function",o=vt(e),s=vt(r);if(!i)return!1;const a=i&&vt(rr),l=i&&(typeof ir=="function"?(h=>v=>h.encode(v))(new ir):async h=>new Uint8Array(await new e(h).arrayBuffer())),c=o&&a&&sr(()=>{let h=!1;const v=new e(te.origin,{body:new rr,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!v}),d=s&&a&&sr(()=>y.isReadableStream(new r("").body)),p={stream:d&&(h=>h.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!p[h]&&(p[h]=(v,O)=>{let S=v&&v[h];if(S)return S.call(v);throw new N(`Response type '${h}' is not supported`,N.ERR_NOT_SUPPORT,O)})});const m=async h=>{if(h==null)return 0;if(y.isBlob(h))return h.size;if(y.isSpecCompliantForm(h))return(await new e(te.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(y.isArrayBufferView(h)||y.isArrayBuffer(h))return h.byteLength;if(y.isURLSearchParams(h)&&(h=h+""),y.isString(h))return(await l(h)).byteLength},A=async(h,v)=>{const O=y.toFiniteNumber(h.getContentLength());return O??m(v)};return async h=>{let{url:v,method:O,data:S,signal:w,cancelToken:x,timeout:L,onDownloadProgress:q,onUploadProgress:j,responseType:C,headers:D,withCredentials:_="same-origin",fetchOptions:P}=di(h),I=t||fetch;C=C?(C+"").toLowerCase():"text";let G=Oo([w,x&&x.toAbortSignal()],L),z=null;const ue=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let xe;try{if(j&&c&&O!=="get"&&O!=="head"&&(xe=await A(D,S))!==0){let ve=new e(v,{method:"POST",body:S,duplex:"half"}),ke;if(y.isFormData(S)&&(ke=ve.headers.get("content-type"))&&D.setContentType(ke),ve.body){const[Ze,qe]=Xn(xe,Mt(Zn(j)));S=tr(ve.body,nr,Ze,qe)}}y.isString(_)||(_=_?"include":"omit");const me=o&&"credentials"in e.prototype,ut={...P,signal:G,method:O.toUpperCase(),headers:D.normalize().toJSON(),body:S,duplex:"half",credentials:me?_:void 0};z=o&&new e(v,ut);let be=await(o?I(z,P):I(v,ut));const Xe=d&&(C==="stream"||C==="response");if(d&&(q||Xe&&ue)){const ve={};["status","statusText","headers"].forEach(Ie=>{ve[Ie]=be[Ie]});const ke=y.toFiniteNumber(be.headers.get("content-length")),[Ze,qe]=q&&Xn(ke,Mt(Zn(q),!0))||[];be=new r(tr(be.body,nr,Ze,()=>{qe&&qe(),ue&&ue()}),ve)}C=C||"text";let Wt=await p[y.findKey(p,C)||"text"](be,h);return!Xe&&ue&&ue(),await new Promise((ve,ke)=>{ci(ve,ke,{data:Wt,headers:ce.from(be.headers),status:be.status,statusText:be.statusText,config:h,request:z})})}catch(me){throw ue&&ue(),me&&me.name==="TypeError"&&/Load failed|fetch/i.test(me.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,h,z),{cause:me.cause||me}):N.from(me,me&&me.code,h,z)}}},xo=new Map,fi=n=>{let t=n&&n.env||{};const{fetch:e,Request:r,Response:i}=t,o=[r,i,e];let s=o.length,a=s,l,c,d=xo;for(;a--;)l=o[a],c=d.get(l),c===void 0&&d.set(l,c=a?new Map:Ao(t)),d=c;return c};fi();const Pn={http:Vs,xhr:wo,fetch:{get:fi}};y.forEach(Pn,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const or=n=>`- ${n}`,Do=n=>y.isFunction(n)||n===null||n===!1;function ko(n,t){n=y.isArray(n)?n:[n];const{length:e}=n;let r,i;const o={};for(let s=0;s<e;s++){r=n[s];let a;if(i=r,!Do(r)&&(i=Pn[(a=String(r)).toLowerCase()],i===void 0))throw new N(`Unknown adapter '${a}'`);if(i&&(y.isFunction(i)||(i=i.get(t))))break;o[a||"#"+s]=i}if(!i){const s=Object.entries(o).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(or).join(`
`):" "+or(s[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const pi={getAdapter:ko,adapters:Pn};function rn(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Qe(null,n)}function ar(n){return rn(n),n.headers=ce.from(n.headers),n.data=nn.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),pi.getAdapter(n.adapter||ct.adapter,n)(n).then(function(r){return rn(n),r.data=nn.call(n,n.transformResponse,r),r.headers=ce.from(r.headers),r},function(r){return li(r)||(rn(n),r&&r.response&&(r.response.data=nn.call(n,n.transformResponse,r.response),r.response.headers=ce.from(r.response.headers))),Promise.reject(r)})}const hi="1.13.2",Yt={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{Yt[n]=function(r){return typeof r===n||"a"+(t<1?"n ":" ")+n}});const lr={};Yt.transitional=function(t,e,r){function i(o,s){return"[Axios v"+hi+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(t===!1)throw new N(i(s," has been removed"+(e?" in "+e:"")),N.ERR_DEPRECATED);return e&&!lr[s]&&(lr[s]=!0,console.warn(i(s," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,s,a):!0}};Yt.spelling=function(t){return(e,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Io(n,t,e){if(typeof n!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=n[o],l=a===void 0||s(a,o,n);if(l!==!0)throw new N("option "+o+" must be "+l,N.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new N("Unknown option "+o,N.ERR_BAD_OPTION)}}const It={assertOptions:Io,validators:Yt},Se=It.validators;let je=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Gn,response:new Gn}}async request(t,e){try{return await this._request(t,e)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Be(this.defaults,e);const{transitional:r,paramsSerializer:i,headers:o}=e;r!==void 0&&It.assertOptions(r,{silentJSONParsing:Se.transitional(Se.boolean),forcedJSONParsing:Se.transitional(Se.boolean),clarifyTimeoutError:Se.transitional(Se.boolean)},!1),i!=null&&(y.isFunction(i)?e.paramsSerializer={serialize:i}:It.assertOptions(i,{encode:Se.function,serialize:Se.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),It.assertOptions(e,{baseUrl:Se.spelling("baseURL"),withXsrfToken:Se.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=o&&y.merge(o.common,o[e.method]);o&&y.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),e.headers=ce.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(e)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,p=0,m;if(!l){const h=[ar.bind(this),void 0];for(h.unshift(...a),h.push(...c),m=h.length,d=Promise.resolve(e);p<m;)d=d.then(h[p++],h[p++]);return d}m=a.length;let A=e;for(;p<m;){const h=a[p++],v=a[p++];try{A=h(A)}catch(O){v.call(this,O);break}}try{d=ar.call(this,A)}catch(h){return Promise.reject(h)}for(p=0,m=c.length;p<m;)d=d.then(c[p++],c[p++]);return d}getUri(t){t=Be(this.defaults,t);const e=ui(t.baseURL,t.url,t.allowAbsoluteUrls);return si(e,t.params,t.paramsSerializer)}};y.forEach(["delete","get","head","options"],function(t){je.prototype[t]=function(e,r){return this.request(Be(r||{},{method:t,url:e,data:(r||{}).data}))}});y.forEach(["post","put","patch"],function(t){function e(r){return function(o,s,a){return this.request(Be(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}je.prototype[t]=e(),je.prototype[t+"Form"]=e(!0)});let To=class gi{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,a){r.reason||(r.reason=new Qe(o,s,a),e(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=r=>{t.abort(r)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new gi(function(i){t=i}),cancel:t}}};function Fo(n){return function(e){return n.apply(null,e)}}function Mo(n){return y.isObject(n)&&n.isAxiosError===!0}const xn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(xn).forEach(([n,t])=>{xn[t]=n});function mi(n){const t=new je(n),e=Kr(je.prototype.request,t);return y.extend(e,je.prototype,t,{allOwnKeys:!0}),y.extend(e,t,null,{allOwnKeys:!0}),e.create=function(i){return mi(Be(n,i))},e}const J=mi(ct);J.Axios=je;J.CanceledError=Qe;J.CancelToken=To;J.isCancel=li;J.VERSION=hi;J.toFormData=Ut;J.AxiosError=N;J.Cancel=J.CanceledError;J.all=function(t){return Promise.all(t)};J.spread=Fo;J.isAxiosError=Mo;J.mergeConfig=Be;J.AxiosHeaders=ce;J.formToJSON=n=>ai(y.isHTMLForm(n)?new FormData(n):n);J.getAdapter=pi.getAdapter;J.HttpStatusCode=xn;J.default=J;const{Axios:Fu,AxiosError:Mu,CanceledError:Lu,isCancel:Pu,CancelToken:Nu,VERSION:Ru,all:$u,Cancel:Hu,isAxiosError:ju,spread:Bu,toFormData:qu,AxiosHeaders:Vu,HttpStatusCode:Uu,formToJSON:Yu,getAdapter:zu,mergeConfig:Ku}=J;window.axios=J;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Lo=Object.defineProperty,Po=(n,t,e)=>t in n?Lo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,ze=(n,t,e)=>Po(n,typeof t!="symbol"?t+"":t,e);document.addEventListener("alpine:init",()=>{window.Alpine.store("editOnClickValidation",{pending:[],set(n,t){this.pending=this.pending.filter(e=>e.value!==n),this.pending.push({value:n,textContent:t})},has(n){return this.pending.some(t=>t.value===n)},get(n){return this.pending.find(t=>t.value===n)},notContains(n){return this.pending.length>0&&!this.has(n)},clear(){this.pending=[]},getTextContent(n){const t=this.pending.find(e=>e.value===n);return t?t.textContent:null}}),window.editOnClickValidation=window.Alpine.store("editOnClickValidation")});document.addEventListener("alpine:init",()=>{window.Alpine.store("pgBulkActions",{selected:[],init(){window.addEventListener("pgBulkActions::addMore",n=>{const t=n.__livewire.params[0];typeof this.selected[t.tableName]>"u"&&(this.selected[t.tableName]=[]),this.selected[t.tableName].push(t.value)}),window.addEventListener("pgBulkActions::clear",n=>{this.clear(n.detail)}),window.addEventListener("pgBulkActions::clearAll",()=>{this.clearAll()})},add(n,t){if(typeof this.selected[t]>"u"&&(this.selected[t]=[]),!this.selected[t].includes(n)){this.selected[t].push(n);return}this.remove(n,t)},remove(n,t){const e=this.selected[t].indexOf(n);e>-1&&this.selected[t].splice(e,1)},get(n){return this.selected[n]??""},count(n){return typeof this.selected[n]>"u"?0:this.selected[n].length},clear(n){this.selected[n]=[]},clearAll(){this.selected=[]}}),window.pgBulkActions=window.Alpine.store("pgBulkActions")});const No=n=>({field:n.field??null,tableName:n.tableName??null,enabled:n.enabled??!1,id:n.id,trueValue:n.trueValue,falseValue:n.falseValue,toggle:n.toggle,save(){this.toggle=this.toggle===0?1:0,this.$wire.dispatch("pg:toggleable-"+this.tableName,{id:this.id,field:this.field,value:this.toggle})}}),Ro=(n,t,e)=>{const r=n[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==e?". Note that variables only represent file names one level deep.":""))))})},$o=n=>({dataField:n.dataField,tableName:n.tableName,label:n.label??null,locale:n.locale??{locale:"default",dateFormat:"Y-m-d H:i",time_24hr:!1,enableTime:!0},onlyFuture:n.onlyFuture??!1,noWeekEnds:n.noWeekEnds??!1,customConfig:n.customConfig??null,type:n.type,element:null,selectedDates:null,async init(){typeof flatpickr>"u"&&(console.log("%c%s","color: #f59e0c; font-size: 1.2em; font-weight: bold; line-height: 1.5"," PowerGrid"),console.error("%c%s","font-size: 1em; line-height: 1.5",`
Failed to mount filter: Filter::datetime('${this.dataField}') on table ['${this.tableName}']

• Install flatpickr: npm install flatpickr

• Add 'import flatpickr from "flatpickr"' in resources/js/app.js file
  `)),window.addEventListener(`pg:clear_flatpickr::${this.tableName}:${this.dataField}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()}),window.addEventListener(`pg:clear_all_flatpickr::${this.tableName}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()});try{const e=await Ro(Object.assign({}),`./flatpickr/dist/l10n/${this.locale.locale}.js`,5);flatpickr.localize(e.default||e)}catch{}const t=this.getOptions();this.$refs.rangeInput&&typeof flatpickr<"u"&&(this.element=flatpickr(this.$refs.rangeInput,t),this.selectedDates=this.$wire.get(`filters.${this.type}.${this.dataField}.formatted`),this.element.setDate(this.selectedDates))},getOptions(){const t={mode:"range",defaultHour:0,...this.locale,...this.customConfig};return this.onlyFuture&&(t.minDate="today"),this.noWeekEnds&&(t.disable=[function(e){return e.getDay()===0||e.getDay()===6}]),t.onClose=(e,r,i)=>{e=e.map(o=>this.element.formatDate(o,"Y-m-d")),e.length>0&&this.selectedDates!==r&&Livewire.dispatch("pg:datePicker-"+this.tableName,{selectedDates:e,dateStr:r,timezone:this.customConfig.timezone??new Date().toString().match(/([-\+][0-9]+)\s/)[1],type:this.type,field:this.dataField,label:this.label,dateFormat:this.locale.dateFormat??"Y-m-d H:i"})},t}}),Ho=n=>({theme:n.theme,id:n.id??null,dataField:n.dataField??null,content:n.content,fallback:n.fallback,inputClass:n.inputClass,saveOnMouseOut:n.saveOnMouseOut,oldContent:null,editable:!1,hash:null,hashError:!0,showEditable:!1,editableInput:"",init(){this.content.length===0&&this.fallback&&(this.content=this.htmlSpecialChars(this.fallback)),this.hash=this.dataField+"-"+this.id,window.addEventListener("toggle-"+this.hash,()=>{this.observe(()=>document.getElementById("clickable-"+this.hash),t=>{t.click(),this.observe(()=>document.getElementById("editable-"+this.hash),e=>{setTimeout(()=>this.setFocusToEnd(e),100)})})}),this.$watch("editable",t=>{if(t){let e=!1;if(this.showEditable=!1,this.content=this.htmlSpecialChars(this.content),this.oldContent=this.content,this.hashError=this.store().notContains(this.hash),this.observe(()=>document.getElementById("editable-"+this.hash),r=>{setTimeout(()=>{this.setFocusToEnd(r),this.store().getTextContent(this.hash)&&(r.textContent=this.store().getTextContent(this.hash))},30)}),this.hashError){const r=this.store().get(this.hash),i=document.getElementById("clickable-"+r);i&&i.click()}e=!0,this.editableInput=`
                <div
                    x-ref="editable"
                    x-text="content"
                    value="${this.content}"
                    placeholder="${this.content}"
                    contenteditable
                    class="pg-single-line ${this.inputClass}"
                    ${this.saveOnMouseOut?'x-on:mousedown.outside="save()"':""}
                    x-on:keydown.enter="save()"
                    id="${"editable-"+this.dataField+"-"+this.id}"
                    x-on:keydown.esc="cancel"
                >
                </div>`,this.$nextTick(()=>setTimeout(()=>{this.showEditable=e,this.focus()},150))}}),this.content=this.htmlSpecialChars(this.content)},store(){return window.editOnClickValidation},save(){this.store().clear(),this.store().set(this.hash,this.$el.textContent),this.observe(()=>document.getElementById("clickable-"+this.hash),t=>{t.textContent=this.$el.textContent}),window.addEventListener("pg:editable-close-"+this.id,()=>{this.store().clear(),this.editable=!1,this.showEditable=!1}),this.store().has(this.hash)||this.store().set(this.hash,this.$el.textContent),this.$wire.dispatch("pg:editable-"+this.$wire.tableName,{id:this.id,value:this.$el.textContent,field:this.dataField}),this.oldContent=this.store().getTextContent(this.hash),this.$nextTick(()=>{this.focus(),this.$el.setAttribute("value","")}),this.content=this.htmlSpecialChars(this.$el.textContent)},focus(){this.setFocusToEnd(this.$el)},cancel(){this.store().clear(),this.$refs.editable.textContent=this.oldContent,this.content=this.oldContent,this.editable=!1,this.showEditable=!1,this.$refs.error&&(this.$refs.error.innerHTML="")},htmlSpecialChars(t){const e=document.createElement("div");return e.innerHTML=t,e.textContent},observe(t,e){new MutationObserver((r,i)=>{for(let o of r)if(o.type==="childList"){const s=t();if(s){e(s),i.disconnect();break}}}).observe(document.body,{childList:!0,subtree:!0})},setFocusToEnd(t){if(!t)return;const e=window.getSelection(),r=document.createRange();r.selectNodeContents(t),r.collapse(!1),e.removeAllRanges(),e.addRange(r),t.focus()}});function jo(n){n.querySelectorAll("tbody tr td").forEach(t=>{t.classList.remove("hidden")}),n.querySelectorAll("thead tr th").forEach(t=>{t.classList.remove("hidden")})}function Bo(n){let t=0;const e=n.querySelectorAll("table thead tr:nth-child(1) th[fixed]"),r=Dn(n);return e.forEach(i=>{t+=Dn(i)}),r-t}function qo(n,t){const e=[].slice.call(n.querySelectorAll("table thead tr:nth-child(1) th")),r=Array.from(e).filter(l=>getComputedStyle(l).display!=="none"),i=[].slice.call(r).sort(function(l,c){const d=l.getAttribute("sort_order")??999,p=c.getAttribute("sort_order")??999;return d-p});let o=0,s=!0;const a=[];return i.forEach(l=>{const c=Dn(l);l.getAttribute("fixed")===null&&(s&&o<=t&&o+c<=t?o+=c:(a.push(r.indexOf(l)+1),s=!1))}),a}function Vo(n,t){for(const e of t)n.querySelectorAll(`tbody:not(tbody[expand]) tr td:nth-child(${e})`).forEach(r=>{r.classList.add("hidden")}),n.querySelectorAll(`thead tr th:nth-child(${e})`).forEach(r=>{r.classList.add("hidden")})}function Uo(n,t){var e,r;if(n.querySelectorAll("table tbody[expand] tr td div").length){for(const i of n.querySelectorAll("table tbody[expand] tr td div"))i.innerHTML="";if(t.length)for(const i of t){const o=n.querySelectorAll("table tbody:not(tbody[expand])");for(const s of o){const a=(e=s.nextElementSibling)==null?void 0:e.querySelector("tr td div");if(!a)continue;let l=n.querySelector(`table thead tr th:nth-child(${i}) span[data-value]`).textContent;const c=(r=s.querySelector(`tr:last-child td:nth-child(${i})`))==null?void 0:r.innerHTML;l.length&&(l+=":"),a.querySelector(`div[data-expand-item-${i}]`)||(a.innerHTML+=`<div class="responsive-row-expand-item-container" data-expand-item-${i}>
                    <span class="font-bold responsive-row-expand-item-name">${l}</span>
                    <span class="responsive-row-expand-item-value">${c}</span>
                </div>`)}}}}function Dn(n){return parseFloat(n.getBoundingClientRect().width.toFixed(2))}function Yo(n){jo(n);const t=Bo(n),e=qo(n,t);Uo(n,e),Vo(n,e)}const zo=()=>({running:!1,expanded:null,element:null,hasHiddenElements:!1,size:0,toggleExpanded(n){this.expanded=this.expanded==n?null:n},init(){this.$nextTick(()=>{this.handleResize(),this.observeElement(),window.addEventListener("pg-livewire-request-finished",()=>{setTimeout(()=>this.handleResize(),5)})})},handleResize(){var n;const t=this.$el;Yo(t),this.hasHiddenElements=(n=t.querySelector("table tbody[expand] tr td div"))==null?void 0:n.innerHTML,this.hasHiddenElements||(this.expanded=null)},observeElement(){new ResizeObserver(n=>{n.forEach(t=>{if(t.contentRect.width>0){if(this.size===this.$el.getBoundingClientRect().width)return;this.size=this.$el.getBoundingClientRect().width,this.handleResize()}})}).observe(this.$el)}}),Ko=(n,t,e)=>{Livewire.dispatch(`${n}-${t.tableName}`,{label:t.label,field:t.dataField,values:e})},vi=(n,t)=>{Ko("pg:multiSelect",n,t)};function sn(n,t){n.split(/\s+/).forEach(e=>{t(e)})}class Wo{constructor(){this._events={}}on(t,e){sn(t,r=>{const i=this._events[r]||[];i.push(e),this._events[r]=i})}off(t,e){var r=arguments.length;if(r===0){this._events={};return}sn(t,i=>{if(r===1){delete this._events[i];return}const o=this._events[i];o!==void 0&&(o.splice(o.indexOf(e),1),this._events[i]=o)})}trigger(t,...e){var r=this;sn(t,i=>{const o=r._events[i];o!==void 0&&o.forEach(s=>{s.apply(r,e)})})}}function Jo(n){return n.plugins={},class extends n{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,e){n.plugins[t]={name:t,fn:e}}initializePlugins(t){var e,r;const i=this,o=[];if(Array.isArray(t))t.forEach(s=>{typeof s=="string"?o.push(s):(i.plugins.settings[s.name]=s.options,o.push(s.name))});else if(t)for(e in t)t.hasOwnProperty(e)&&(i.plugins.settings[e]=t[e],o.push(e));for(;r=o.shift();)i.require(r)}loadPlugin(t){var e=this,r=e.plugins,i=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=i.fn.apply(e,[e.plugins.settings[t]||{}]),r.names.push(t)}require(t){var e=this,r=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(r.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return r.loaded[t]}}}const zt=n=>(n=n.filter(Boolean),n.length<2?n[0]||"":Qo(n)==1?"["+n.join("")+"]":"(?:"+n.join("|")+")"),yi=n=>{if(!Go(n))return n.join("");let t="",e=0;const r=()=>{e>1&&(t+="{"+e+"}")};return n.forEach((i,o)=>{if(i===n[o-1]){e++;return}r(),t+=i,e=1}),r(),t},bi=n=>{let t=Array.from(n);return zt(t)},Go=n=>new Set(n).size!==n.length,rt=n=>(n+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),Qo=n=>n.reduce((t,e)=>Math.max(t,Xo(e)),0),Xo=n=>Array.from(n).length,wi=n=>{if(n.length===1)return[[n]];let t=[];const e=n.substring(1);return wi(e).forEach(function(r){let i=r.slice(0);i[0]=n.charAt(0)+i[0],t.push(i),i=r.slice(0),i.unshift(n.charAt(0)),t.push(i)}),t},Zo=[[0,65535]],ea="[̀-ͯ·ʾʼ]";let Lt,Oi;const ta=3,Nn={},cr={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let n in cr){let t=cr[n]||"";for(let e=0;e<t.length;e++){let r=t.substring(e,e+1);Nn[r]=n}}const na=new RegExp(Object.keys(Nn).join("|")+"|"+ea,"gu"),ra=n=>{Lt===void 0&&(Lt=aa(Zo))},ur=(n,t="NFKD")=>n.normalize(t),Pt=n=>Array.from(n).reduce((t,e)=>t+ia(e),""),ia=n=>(n=ur(n).toLowerCase().replace(na,t=>Nn[t]||""),ur(n,"NFC"));function*sa(n){for(const[t,e]of n)for(let r=t;r<=e;r++){let i=String.fromCharCode(r),o=Pt(i);o!=i.toLowerCase()&&(o.length>ta||o.length!=0&&(yield{folded:o,composed:i,code_point:r}))}}const oa=n=>{const t={},e=(r,i)=>{const o=t[r]||new Set,s=new RegExp("^"+bi(o)+"$","iu");i.match(s)||(o.add(rt(i)),t[r]=o)};for(let r of sa(n))e(r.folded,r.folded),e(r.folded,r.composed);return t},aa=n=>{const t=oa(n),e={};let r=[];for(let o in t){let s=t[o];s&&(e[o]=bi(s)),o.length>1&&r.push(rt(o))}r.sort((o,s)=>s.length-o.length);const i=zt(r);return Oi=new RegExp("^"+i,"u"),e},la=(n,t=1)=>{let e=0;return n=n.map(r=>(Lt[r]&&(e+=r.length),Lt[r]||r)),e>=t?yi(n):""},ca=(n,t=1)=>(t=Math.max(t,n.length-1),zt(wi(n).map(e=>la(e,t)))),dr=(n,t=!0)=>{let e=n.length>1?1:0;return zt(n.map(r=>{let i=[];const o=t?r.length():r.length()-1;for(let s=0;s<o;s++)i.push(ca(r.substrs[s]||"",e));return yi(i)}))},ua=(n,t)=>{for(const e of t){if(e.start!=n.start||e.end!=n.end||e.substrs.join("")!==n.substrs.join(""))continue;let r=n.parts;const i=o=>{for(const s of r){if(s.start===o.start&&s.substr===o.substr)return!1;if(!(o.length==1||s.length==1)&&(o.start<s.start&&o.end>s.start||s.start<o.start&&s.end>o.start))return!0}return!1};if(!(e.parts.filter(i).length>0))return!0}return!1};class Nt{constructor(){ze(this,"parts"),ze(this,"substrs"),ze(this,"start"),ze(this,"end"),this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let r=new Nt,i=JSON.parse(JSON.stringify(this.parts)),o=i.pop();for(const l of i)r.add(l);let s=e.substr.substring(0,t-o.start),a=s.length;return r.add({start:o.start,end:o.start+a,length:a,substr:s}),r}}const da=n=>{ra(),n=Pt(n);let t="",e=[new Nt];for(let r=0;r<n.length;r++){let i=n.substring(r).match(Oi);const o=n.substring(r,r+1),s=i?i[0]:null;let a=[],l=new Set;for(const c of e){const d=c.last();if(!d||d.length==1||d.end<=r)if(s){const p=s.length;c.add({start:r,end:r+p,length:p,substr:s}),l.add("1")}else c.add({start:r,end:r+1,length:1,substr:o}),l.add("2");else if(s){let p=c.clone(r,d);const m=s.length;p.add({start:r,end:r+m,length:m,substr:s}),a.push(p)}else l.add("3")}if(a.length>0){a=a.sort((c,d)=>c.length()-d.length());for(let c of a)ua(c,e)||e.push(c);continue}if(r>0&&l.size==1&&!l.has("3")){t+=dr(e,!1);let c=new Nt;const d=e[0];d&&c.add(d.last()),e=[c]}}return t+=dr(e,!0),t},fa=(n,t)=>{if(n)return n[t]},pa=(n,t)=>{if(n){for(var e,r=t.split(".");(e=r.shift())&&(n=n[e]););return n}},on=(n,t,e)=>{var r,i;return!n||(n=n+"",t.regex==null)||(i=n.search(t.regex),i===-1)?0:(r=t.string.length/n.length,i===0&&(r+=.5),r*e)},an=(n,t)=>{var e=n[t];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(n[t]=[e])},yt=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},ha=(n,t)=>typeof n=="number"&&typeof t=="number"?n>t?1:n<t?-1:0:(n=Pt(n+"").toLowerCase(),t=Pt(t+"").toLowerCase(),n>t?1:t>n?-1:0);class ga{constructor(t,e){ze(this,"items"),ze(this,"settings"),this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,r){if(!t||!t.length)return[];const i=[],o=t.split(/\s+/);var s;return r&&(s=new RegExp("^("+Object.keys(r).map(rt).join("|")+"):(.*)$")),o.forEach(a=>{let l,c=null,d=null;s&&(l=a.match(s))&&(c=l[1],a=l[2]),a.length>0&&(this.settings.diacritics?d=da(a)||null:d=rt(a),d&&e&&(d="\\b"+d)),i.push({string:a,regex:d?new RegExp(d,"iu"):null,field:c})}),i}getScoreFunction(t,e){var r=this.prepareSearch(t,e);return this._getScoreFunction(r)}_getScoreFunction(t){const e=t.tokens,r=e.length;if(!r)return function(){return 0};const i=t.options.fields,o=t.weights,s=i.length,a=t.getAttrFn;if(!s)return function(){return 1};const l=(function(){return s===1?function(c,d){const p=i[0].field;return on(a(d,p),c,o[p]||1)}:function(c,d){var p=0;if(c.field){const m=a(d,c.field);!c.regex&&m?p+=1/s:p+=on(m,c,1)}else yt(o,(m,A)=>{p+=on(a(d,A),c,m)});return p/s}})();return r===1?function(c){return l(e[0],c)}:t.options.conjunction==="and"?function(c){var d,p=0;for(let m of e){if(d=l(m,c),d<=0)return 0;p+=d}return p/r}:function(c){var d=0;return yt(e,p=>{d+=l(p,c)}),d/r}}getSortFunction(t,e){var r=this.prepareSearch(t,e);return this._getSortFunction(r)}_getSortFunction(t){var e,r=[];const i=this,o=t.options,s=!t.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof s=="function")return s.bind(this);const a=function(l,c){return l==="$score"?c.score:t.getAttrFn(i.items[c.id],l)};if(s)for(let l of s)(t.query||l.field!=="$score")&&r.push(l);if(t.query){e=!0;for(let l of r)if(l.field==="$score"){e=!1;break}e&&r.unshift({field:"$score",direction:"desc"})}else r=r.filter(l=>l.field!=="$score");return r.length?function(l,c){var d,p;for(let m of r)if(p=m.field,d=(m.direction==="desc"?-1:1)*ha(a(p,l),a(p,c)),d)return d;return 0}:null}prepareSearch(t,e){const r={};var i=Object.assign({},e);if(an(i,"sort"),an(i,"sort_empty"),i.fields){an(i,"fields");const o=[];i.fields.forEach(s=>{typeof s=="string"&&(s={field:s,weight:1}),o.push(s),r[s.field]="weight"in s?s.weight:1}),i.fields=o}return{options:i,query:t.toLowerCase().trim(),tokens:this.tokenize(t,i.respect_word_boundaries,r),total:0,items:[],weights:r,getAttrFn:i.nesting?pa:fa}}search(t,e){var r=this,i,o;o=this.prepareSearch(t,e),e=o.options,t=o.query;const s=e.score||r._getScoreFunction(o);t.length?yt(r.items,(l,c)=>{i=s(l),(e.filter===!1||i>0)&&o.items.push({score:i,id:c})}):yt(r.items,(l,c)=>{o.items.push({score:1,id:c})});const a=r._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof e.limit=="number"&&(o.items=o.items.slice(0,e.limit)),o}}const we=n=>typeof n>"u"||n===null?null:Tt(n),Tt=n=>typeof n=="boolean"?n?"1":"0":n+"",ln=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),ma=(n,t)=>t>0?window.setTimeout(n,t):(n.call(null),null),va=(n,t)=>{var e;return function(r,i){var o=this;e&&(o.loading=Math.max(o.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,o.loadedSearches[r]=!0,n.call(o,r,i)},t)}},fr=(n,t,e)=>{var r,i=n.trigger,o={};n.trigger=function(){var s=arguments[0];if(t.indexOf(s)!==-1)o[s]=arguments;else return i.apply(n,arguments)},e.apply(n,[]),n.trigger=i;for(r of t)r in o&&i.apply(n,o[r])},ya=n=>({start:n.selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)}),W=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},ne=(n,t,e,r)=>{n.addEventListener(t,e,r)},Le=(n,t)=>{if(!t||!t[n])return!1;var e=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return e===1},cn=(n,t)=>n.getAttribute("id")||(n.setAttribute("id",t),t),pr=n=>n.replace(/[\\"']/g,"\\$&"),Pe=(n,t)=>{t&&n.append(t)},X=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Ee=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Ci(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Ci=n=>typeof n=="string"&&n.indexOf("<")>-1,ba=n=>n.replace(/['"\\]/g,"\\$&"),un=(n,t)=>{var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!1),n.dispatchEvent(e)},bt=(n,t)=>{Object.assign(n.style,t)},fe=(n,...t)=>{var e=_i(t);n=Si(n),n.map(r=>{e.map(i=>{r.classList.add(i)})})},Te=(n,...t)=>{var e=_i(t);n=Si(n),n.map(r=>{e.map(i=>{r.classList.remove(i)})})},_i=n=>{var t=[];return X(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Si=n=>(Array.isArray(n)||(n=[n]),n),dn=(n,t,e)=>{if(!(e&&!e.contains(n)))for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},hr=(n,t=0)=>t>0?n[n.length-1]:n[0],wa=n=>Object.keys(n).length===0,gr=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e},V=(n,t)=>{X(t,(e,r)=>{e==null?n.removeAttribute(r):n.setAttribute(r,""+e)})},kn=(n,t)=>{n.parentNode&&n.parentNode.replaceChild(t,n)},Oa=(n,t)=>{if(t===null)return;if(typeof t=="string"){if(!t.length)return;t=new RegExp(t,"i")}const e=o=>{var s=o.data.match(t);if(s&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var l=o.splitText(s.index);l.splitText(s[0].length);var c=l.cloneNode(!0);return a.appendChild(c),kn(l,a),1}return 0},r=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(s=>{i(s)})},i=o=>o.nodeType===3?e(o):(r(o),0);i(n)},Ca=n=>{var t=n.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,function(e){var r=e.parentNode;r.replaceChild(e.firstChild,e),r.normalize()})},_a=65,Sa=13,Ea=27,Aa=37,xa=38,Da=39,ka=40,mr=8,Ia=46,vr=9,Ta=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),wt=Ta?"metaKey":"ctrlKey",yr={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(n){return n.length>0},render:{}};function br(n,t){var e=Object.assign({},yr,t),r=e.dataAttr,i=e.labelField,o=e.valueField,s=e.disabledField,a=e.optgroupField,l=e.optgroupLabelField,c=e.optgroupValueField,d=n.tagName.toLowerCase(),p=n.getAttribute("placeholder")||n.getAttribute("data-placeholder");if(!p&&!e.allowEmptyOption){let v=n.querySelector('option[value=""]');v&&(p=v.textContent)}var m={placeholder:p,options:[],optgroups:[],items:[],maxItems:null},A=()=>{var v,O=m.options,S={},w=1;let x=0;var L=C=>{var D=Object.assign({},C.dataset),_=r&&D[r];return typeof _=="string"&&_.length&&(D=Object.assign(D,JSON.parse(_))),D},q=(C,D)=>{var _=we(C.value);if(_!=null&&!(!_&&!e.allowEmptyOption)){if(S.hasOwnProperty(_)){if(D){var P=S[_][a];P?Array.isArray(P)?P.push(D):S[_][a]=[P,D]:S[_][a]=D}}else{var I=L(C);I[i]=I[i]||C.textContent,I[o]=I[o]||_,I[s]=I[s]||C.disabled,I[a]=I[a]||D,I.$option=C,I.$order=I.$order||++x,S[_]=I,O.push(I)}C.selected&&m.items.push(_)}},j=C=>{var D,_;_=L(C),_[l]=_[l]||C.getAttribute("label")||"",_[c]=_[c]||w++,_[s]=_[s]||C.disabled,_.$order=_.$order||++x,m.optgroups.push(_),D=_[c],X(C.children,P=>{q(P,D)})};m.maxItems=n.hasAttribute("multiple")?null:1,X(n.children,C=>{v=C.tagName.toLowerCase(),v==="optgroup"?j(C):v==="option"&&q(C)})},h=()=>{const v=n.getAttribute(r);if(v)m.options=JSON.parse(v),X(m.options,S=>{m.items.push(S[o])});else{var O=n.value.trim()||"";if(!e.allowEmptyOption&&!O.length)return;const S=O.split(e.delimiter);X(S,w=>{const x={};x[i]=w,x[o]=w,m.options.push(x)}),m.items=S}};return d==="select"?A():h(),Object.assign({},yr,m,t)}var wr=0;class se extends Jo(Wo){constructor(t,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,wr++;var r,i=Ee(t);if(i.tomselect)throw new Error("Tom Select already initialized on this element");i.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(i,null);r=o.getPropertyValue("direction");const s=br(i,e);this.settings=s,this.input=i,this.tabIndex=i.tabIndex||0,this.is_select_tag=i.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(r),this.inputId=cn(i,"tomselect-"+wr),this.isRequired=i.required,this.sifter=new ga(this.options,{diacritics:s.diacritics}),s.mode=s.mode||(s.maxItems===1?"single":"multi"),typeof s.hideSelected!="boolean"&&(s.hideSelected=s.mode==="multi"),typeof s.hidePlaceholder!="boolean"&&(s.hidePlaceholder=s.mode!=="multi");var a=s.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?s.createFilter=O=>a.test(O):s.createFilter=O=>this.settings.duplicates||!this.options[O]),this.initializePlugins(s.plugins),this.setupCallbacks(),this.setupTemplates();const l=Ee("<div>"),c=Ee("<div>"),d=this._render("dropdown"),p=Ee('<div role="listbox" tabindex="-1">'),m=this.input.getAttribute("class")||"",A=s.mode;var h;if(fe(l,s.wrapperClass,m,A),fe(c,s.controlClass),Pe(l,c),fe(d,s.dropdownClass,A),s.copyClassesToDropdown&&fe(d,m),fe(p,s.dropdownContentClass),Pe(d,p),Ee(s.dropdownParent||l).appendChild(d),Ci(s.controlInput)){h=Ee(s.controlInput);var v=["autocorrect","autocapitalize","autocomplete","spellcheck"];X(v,O=>{i.getAttribute(O)&&V(h,{[O]:i.getAttribute(O)})}),h.tabIndex=-1,c.appendChild(h),this.focus_node=h}else s.controlInput?(h=Ee(s.controlInput),this.focus_node=h):(h=Ee("<input/>"),this.focus_node=c);this.wrapper=l,this.dropdown=d,this.dropdown_content=p,this.control=c,this.control_input=h,this.setup()}setup(){const t=this,e=t.settings,r=t.control_input,i=t.dropdown,o=t.dropdown_content,s=t.wrapper,a=t.control,l=t.input,c=t.focus_node,d={passive:!0},p=t.inputId+"-ts-dropdown";V(o,{id:p}),V(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":p});const m=cn(c,t.inputId+"-ts-control"),A="label[for='"+ba(t.inputId)+"']",h=document.querySelector(A),v=t.focus.bind(t);if(h){ne(h,"click",v),V(h,{for:m});const w=cn(h,t.inputId+"-ts-label");V(c,{"aria-labelledby":w}),V(o,{"aria-labelledby":w})}if(s.style.width=l.style.width,t.plugins.names.length){const w="plugin-"+t.plugins.names.join(" plugin-");fe([s,i],w)}(e.maxItems===null||e.maxItems>1)&&t.is_select_tag&&V(l,{multiple:"multiple"}),e.placeholder&&V(r,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+rt(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=va(e.load,e.loadThrottle)),ne(i,"mousemove",()=>{t.ignoreHover=!1}),ne(i,"mouseenter",w=>{var x=dn(w.target,"[data-selectable]",i);x&&t.onOptionHover(w,x)},{capture:!0}),ne(i,"click",w=>{const x=dn(w.target,"[data-selectable]");x&&(t.onOptionSelect(w,x),W(w,!0))}),ne(a,"click",w=>{var x=dn(w.target,"[data-ts-item]",a);if(x&&t.onItemSelect(w,x)){W(w,!0);return}r.value==""&&(t.onClick(),W(w,!0))}),ne(c,"keydown",w=>t.onKeyDown(w)),ne(r,"keypress",w=>t.onKeyPress(w)),ne(r,"input",w=>t.onInput(w)),ne(c,"blur",w=>t.onBlur(w)),ne(c,"focus",w=>t.onFocus(w)),ne(r,"paste",w=>t.onPaste(w));const O=w=>{const x=w.composedPath()[0];if(!s.contains(x)&&!i.contains(x)){t.isFocused&&t.blur(),t.inputState();return}x==r&&t.isOpen?w.stopPropagation():W(w,!0)},S=()=>{t.isOpen&&t.positionDropdown()};ne(document,"mousedown",O),ne(window,"scroll",S,d),ne(window,"resize",S,d),this._destroy=()=>{document.removeEventListener("mousedown",O),window.removeEventListener("scroll",S),window.removeEventListener("resize",S),h&&h.removeEventListener("click",v)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,ne(l,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,l.disabled?t.disable():l.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),fe(l,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),e.preload===!0&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),X(e,r=>{this.registerOptionGroup(r)})}setupTemplates(){var t=this,e=t.settings.labelField,r=t.settings.optgroupLabelField,i={optgroup:o=>{let s=document.createElement("div");return s.className="optgroup",s.appendChild(o.options),s},optgroup_header:(o,s)=>'<div class="optgroup-header">'+s(o[r])+"</div>",option:(o,s)=>"<div>"+s(o[e])+"</div>",item:(o,s)=>"<div>"+s(o[e])+"</div>",option_create:(o,s)=>'<div class="create">Add <strong>'+s(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},i,t.settings.render)}setupCallbacks(){var t,e,r={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in r)e=this.settings[r[t]],e&&this.on(t,e)}sync(t=!0){const e=this,r=t?br(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(r.options,r.optgroups),e.setValue(r.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0){t.clearActiveItems(),t.focus();return}t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){un(this.input,"input"),un(this.input,"change")}onPaste(t){var e=this;if(e.isInputHidden||e.isLocked){W(t);return}e.settings.splitOn&&setTimeout(()=>{var r=e.inputValue();if(r.match(e.settings.splitOn)){var i=r.trim().split(e.settings.splitOn);X(i,o=>{we(o)&&(this.options[o]?e.addItem(o):e.createItem(o))})}},0)}onKeyPress(t){var e=this;if(e.isLocked){W(t);return}var r=String.fromCharCode(t.keyCode||t.which);if(e.settings.create&&e.settings.mode==="multi"&&r===e.settings.delimiter){e.createItem(),W(t);return}}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked){t.keyCode!==vr&&W(t);return}switch(t.keyCode){case _a:if(Le(wt,t)&&e.control_input.value==""){W(t),e.selectAll();return}break;case Ea:e.isOpen&&(W(t,!0),e.close()),e.clearActiveItems();return;case ka:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let r=e.getAdjacent(e.activeOption,1);r&&e.setActiveOption(r)}W(t);return;case xa:if(e.activeOption){let r=e.getAdjacent(e.activeOption,-1);r&&e.setActiveOption(r)}W(t);return;case Sa:e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),W(t)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&W(t);return;case Aa:e.advanceSelection(-1,t);return;case Da:e.advanceSelection(1,t);return;case vr:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),W(t)),e.settings.create&&e.createItem()&&W(t));return;case mr:case Ia:e.deleteSelection(t);return}e.isInputHidden&&!Le(wt,t)&&W(t)}onInput(t){if(this.isLocked)return;const e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=ma(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,r=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),W(t);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),r||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var r=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,r):r()}}}onOptionSelect(t,e){var r,i=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?i.createItem(null,()=>{i.settings.closeAfterSelect&&i.close()}):(r=e.dataset.value,typeof r<"u"&&(i.lastQuery=null,i.addItem(r),i.settings.closeAfterSelect&&i.close(),!i.settings.hideSelected&&t.type&&/click/.test(t.type)&&i.setActiveOption(e))))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var r=this;return!r.isLocked&&r.settings.mode==="multi"?(W(t),r.setActiveItem(e,t),!0):!1}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){const e=this;if(!e.canLoad(t))return;fe(e.wrapper,e.settings.loadingClass),e.loading++;const r=e.loadCallback.bind(e);e.settings.load.call(e,t,r)}loadCallback(t,e){const r=this;r.loading=Math.max(r.loading-1,0),r.lastQuery=null,r.clearActiveOption(),r.setupOptions(t,e),r.refreshOptions(r.isFocused&&!r.isInputHidden),r.loading||Te(r.wrapper,r.settings.loadingClass),r.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input,r=e.value!==t;r&&(e.value=t,un(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){var r=e?[]:["change"];fr(this,r,()=>{this.clear(e),this.addItems(t,e)})}setMaxItems(t){t===0&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var r=this,i,o,s,a,l,c;if(r.settings.mode!=="single"){if(!t){r.clearActiveItems(),r.isFocused&&r.inputState();return}if(i=e&&e.type.toLowerCase(),i==="click"&&Le("shiftKey",e)&&r.activeItems.length){for(c=r.getLastActive(),s=Array.prototype.indexOf.call(r.control.children,c),a=Array.prototype.indexOf.call(r.control.children,t),s>a&&(l=s,s=a,a=l),o=s;o<=a;o++)t=r.control.children[o],r.activeItems.indexOf(t)===-1&&r.setActiveItemClass(t);W(e)}else i==="click"&&Le(wt,e)||i==="keydown"&&Le("shiftKey",e)?t.classList.contains("active")?r.removeActiveItem(t):r.setActiveItemClass(t):(r.clearActiveItems(),r.setActiveItemClass(t));r.inputState(),r.isFocused||r.focus()}}setActiveItemClass(t){const e=this,r=e.control.querySelector(".last-active");r&&Te(r,"last-active"),fe(t,"active last-active"),e.trigger("item_select",t),e.activeItems.indexOf(t)==-1&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),Te(t,"active")}clearActiveItems(){Te(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,V(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),V(t,{"aria-selected":"true"}),fe(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;const r=this.dropdown_content,i=r.clientHeight,o=r.scrollTop||0,s=t.offsetHeight,a=t.getBoundingClientRect().top-r.getBoundingClientRect().top+o;a+s>i+o?this.scroll(a-i+s,e):a<o&&this.scroll(a,e)}scroll(t,e){const r=this.dropdown_content;e&&(r.style.scrollBehavior=e),r.scrollTop=t,r.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Te(this.activeOption,"active"),V(this.activeOption,{"aria-selected":null})),this.activeOption=null,V(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if(t.settings.mode==="single")return;const e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,X(e,r=>{t.setActiveItemClass(r)}))}inputState(){var t=this;t.control.contains(t.control_input)&&(V(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&V(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return typeof t.sortField=="string"&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,r,i=this,o=this.getSearchOptions();if(i.settings.score&&(r=i.settings.score.call(i,t),typeof r!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==i.lastQuery?(i.lastQuery=t,e=i.sifter.search(t,Object.assign(o,{score:r})),i.currentResults=e):e=Object.assign({},i.currentResults),i.settings.hideSelected&&(e.items=e.items.filter(s=>{let a=we(s.id);return!(a&&i.items.indexOf(a)!==-1)})),e}refreshOptions(t=!0){var e,r,i,o,s,a,l,c,d,p;const m={},A=[];var h=this,v=h.inputValue();const O=v===h.lastQuery||v==""&&h.lastQuery==null;var S=h.search(v),w=null,x=h.settings.shouldOpen||!1,L=h.dropdown_content;O&&(w=h.activeOption,w&&(d=w.closest("[data-group]"))),o=S.items.length,typeof h.settings.maxOptions=="number"&&(o=Math.min(o,h.settings.maxOptions)),o>0&&(x=!0);const q=(C,D)=>{let _=m[C];if(_!==void 0){let I=A[_];if(I!==void 0)return[_,I.fragment]}let P=document.createDocumentFragment();return _=A.length,A.push({fragment:P,order:D,optgroup:C}),[_,P]};for(e=0;e<o;e++){let C=S.items[e];if(!C)continue;let D=C.id,_=h.options[D];if(_===void 0)continue;let P=Tt(D),I=h.getOption(P,!0);for(h.settings.hideSelected||I.classList.toggle("selected",h.items.includes(P)),s=_[h.settings.optgroupField]||"",a=Array.isArray(s)?s:[s],r=0,i=a&&a.length;r<i;r++){s=a[r];let G=_.$order,z=h.optgroups[s];z===void 0?s="":G=z.$order;const[ue,xe]=q(s,G);r>0&&(I=I.cloneNode(!0),V(I,{id:_.$id+"-clone-"+r,"aria-selected":null}),I.classList.add("ts-cloned"),Te(I,"active"),h.activeOption&&h.activeOption.dataset.value==D&&d&&d.dataset.group===s.toString()&&(w=I)),xe.appendChild(I),s!=""&&(m[s]=ue)}}h.settings.lockOptgroupOrder&&A.sort((C,D)=>C.order-D.order),l=document.createDocumentFragment(),X(A,C=>{let D=C.fragment,_=C.optgroup;if(!D||!D.children.length)return;let P=h.optgroups[_];if(P!==void 0){let I=document.createDocumentFragment(),G=h.render("optgroup_header",P);Pe(I,G),Pe(I,D);let z=h.render("optgroup",{group:P,options:I});Pe(l,z)}else Pe(l,D)}),L.innerHTML="",Pe(L,l),h.settings.highlight&&(Ca(L),S.query.length&&S.tokens.length&&X(S.tokens,C=>{Oa(L,C.regex)}));var j=C=>{let D=h.render(C,{input:v});return D&&(x=!0,L.insertBefore(D,L.firstChild)),D};if(h.loading?j("loading"):h.settings.shouldLoad.call(h,v)?S.items.length===0&&j("no_results"):j("not_loading"),c=h.canCreate(v),c&&(p=j("option_create")),h.hasOptions=S.items.length>0||c,x){if(S.items.length>0){if(!w&&h.settings.mode==="single"&&h.items[0]!=null&&(w=h.getOption(h.items[0])),!L.contains(w)){let C=0;p&&!h.settings.addPrecedence&&(C=1),w=h.selectable()[C]}}else p&&(w=p);t&&!h.isOpen&&(h.open(),h.scrollToOption(w,"auto")),h.setActiveOption(w)}else h.clearActiveOption(),t&&h.isOpen&&h.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){const r=this;if(Array.isArray(t))return r.addOptions(t,e),!1;const i=we(t[r.settings.valueField]);return i===null||r.options.hasOwnProperty(i)?!1:(t.$order=t.$order||++r.order,t.$id=r.inputId+"-opt-"+t.$order,r.options[i]=t,r.lastQuery=null,e&&(r.userOptions[i]=e,r.trigger("option_add",i,t)),i)}addOptions(t,e=!1){X(t,r=>{this.addOption(r,e)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=we(t[this.settings.optgroupValueField]);return e===null?!1:(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var r;e[this.settings.optgroupValueField]=t,(r=this.registerOptionGroup(e))&&this.trigger("optgroup_add",r,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){const r=this;var i,o;const s=we(t),a=we(e[r.settings.valueField]);if(s===null)return;const l=r.options[s];if(l==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const c=r.getOption(s),d=r.getItem(s);if(e.$order=e.$order||l.$order,delete r.options[s],r.uncacheValue(a),r.options[a]=e,c){if(r.dropdown_content.contains(c)){const p=r._render("option",e);kn(c,p),r.activeOption===c&&r.setActiveOption(p)}c.remove()}d&&(o=r.items.indexOf(s),o!==-1&&r.items.splice(o,1,a),i=r._render("item",e),d.classList.contains("active")&&fe(i,"active"),kn(d,i)),r.lastQuery=null}removeOption(t,e){const r=this;t=Tt(t),r.uncacheValue(t),delete r.userOptions[t],delete r.options[t],r.lastQuery=null,r.trigger("option_remove",t),r.removeItem(t,e)}clearOptions(t){const e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const r={};X(this.options,(i,o)=>{e(i,o)&&(r[o]=i)}),this.options=this.sifter.items=r,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){const r=we(t);if(r===null)return null;const i=this.options[r];if(i!=null){if(i.$div)return i.$div;if(e)return this._render("option",i)}return null}getAdjacent(t,e,r="option"){var i=this,o;if(!t)return null;r=="item"?o=i.controlChildren():o=i.dropdown_content.querySelectorAll("[data-selectable]");for(let s=0;s<o.length;s++)if(o[s]==t)return e>0?o[s+1]:o[s-1];return null}getItem(t){if(typeof t=="object")return t;var e=we(t);return e!==null?this.control.querySelector(`[data-value="${pr(e)}"]`):null}addItems(t,e){var r=this,i=Array.isArray(t)?t:[t];i=i.filter(s=>r.items.indexOf(s)===-1);const o=i[i.length-1];i.forEach(s=>{r.isPending=s!==o,r.addItem(s,e)})}addItem(t,e){var r=e?[]:["change","dropdown_close"];fr(this,r,()=>{var i,o;const s=this,a=s.settings.mode,l=we(t);if(!(l&&s.items.indexOf(l)!==-1&&(a==="single"&&s.close(),a==="single"||!s.settings.duplicates))&&!(l===null||!s.options.hasOwnProperty(l))&&(a==="single"&&s.clear(e),!(a==="multi"&&s.isFull()))){if(i=s._render("item",s.options[l]),s.control.contains(i)&&(i=i.cloneNode(!0)),o=s.isFull(),s.items.splice(s.caretPos,0,l),s.insertAtCaret(i),s.isSetup){if(!s.isPending&&s.settings.hideSelected){let c=s.getOption(l),d=s.getAdjacent(c,1);d&&s.setActiveOption(d)}!s.isPending&&!s.settings.closeAfterSelect&&s.refreshOptions(s.isFocused&&a!=="single"),s.settings.closeAfterSelect!=!1&&s.isFull()?s.close():s.isPending||s.positionDropdown(),s.trigger("item_add",l,i),s.isPending||s.updateOriginalInput({silent:e})}(!s.isPending||!o&&s.isFull())&&(s.inputState(),s.refreshState())}})}removeItem(t=null,e){const r=this;if(t=r.getItem(t),!t)return;var i,o;const s=t.dataset.value;i=gr(t),t.remove(),t.classList.contains("active")&&(o=r.activeItems.indexOf(t),r.activeItems.splice(o,1),Te(t,"active")),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(s)&&r.removeOption(s,e),i<r.caretPos&&r.setCaret(r.caretPos-1),r.updateOriginalInput({silent:e}),r.refreshState(),r.positionDropdown(),r.trigger("item_remove",s,t)}createItem(t=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=()=>{});var r=this,i=r.caretPos,o;if(t=t||r.inputValue(),!r.canCreate(t))return e(),!1;r.lock();var s=!1,a=l=>{if(r.unlock(),!l||typeof l!="object")return e();var c=we(l[r.settings.valueField]);if(typeof c!="string")return e();r.setTextboxValue(),r.addOption(l,!0),r.setCaret(i),r.addItem(c),e(l),s=!0};return typeof r.settings.create=="function"?o=r.settings.create.call(this,t,a):o={[r.settings.labelField]:t,[r.settings.valueField]:t},s||a(o),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const e=t.isFull(),r=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const i=t.wrapper.classList;i.toggle("focus",t.isFocused),i.toggle("disabled",t.isDisabled),i.toggle("readonly",t.isReadOnly),i.toggle("required",t.isRequired),i.toggle("invalid",!t.isValid),i.toggle("locked",r),i.toggle("full",e),i.toggle("input-active",t.isFocused&&!t.isInputHidden),i.toggle("dropdown-active",t.isOpen),i.toggle("has-options",wa(t.options)),i.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const e=this;var r,i;const o=e.input.querySelector('option[value=""]');if(e.is_select_tag){let s=function(c,d,p){return c||(c=Ee('<option value="'+ln(d)+'">'+ln(p)+"</option>")),c!=o&&e.input.append(c),a.push(c),(c!=o||l>0)&&(c.selected=!0),c};const a=[],l=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(c=>{c.selected=!1}),e.items.length==0&&e.settings.mode=="single"?s(o,"",""):e.items.forEach(c=>{if(r=e.options[c],i=r[e.settings.labelField]||"",a.includes(r.$option)){const d=e.input.querySelector(`option[value="${pr(c)}"]:not(:checked)`);s(d,c,i)}else r.$option=s(r.$option,c,i)})}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||t.settings.mode==="multi"&&t.isFull()||(t.isOpen=!0,V(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),bt(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),bt(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,r=e.isOpen;t&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,V(e.focus_node,{"aria-expanded":"false"}),bt(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),r&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var t=this.control,e=t.getBoundingClientRect(),r=t.offsetHeight+e.top+window.scrollY,i=e.left+window.scrollX;bt(this.dropdown,{width:e.width+"px",top:r+"px",left:i+"px"})}}clear(t){var e=this;if(e.items.length){var r=e.controlChildren();X(r,i=>{e.removeItem(i,!0)}),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){const e=this,r=e.caretPos,i=e.control;i.insertBefore(t,i.children[r]||null),e.setCaret(r+1)}deleteSelection(t){var e,r,i,o,s=this;e=t&&t.keyCode===mr?-1:1,r=ya(s.control_input);const a=[];if(s.activeItems.length)o=hr(s.activeItems,e),i=gr(o),e>0&&i++,X(s.activeItems,l=>a.push(l));else if((s.isFocused||s.settings.mode==="single")&&s.items.length){const l=s.controlChildren();let c;e<0&&r.start===0&&r.length===0?c=l[s.caretPos-1]:e>0&&r.start===s.inputValue().length&&(c=l[s.caretPos]),c!==void 0&&a.push(c)}if(!s.shouldDelete(a,t))return!1;for(W(t,!0),typeof i<"u"&&s.setCaret(i);a.length;)s.removeItem(a.pop());return s.inputState(),s.positionDropdown(),s.refreshOptions(!1),!0}shouldDelete(t,e){const r=t.map(i=>i.dataset.value);return!(!r.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(r,e)===!1)}advanceSelection(t,e){var r,i,o=this;o.rtl&&(t*=-1),!o.inputValue().length&&(Le(wt,e)||Le("shiftKey",e)?(r=o.getLastActive(t),r?r.classList.contains("active")?i=o.getAdjacent(r,t,"item"):i=r:t>0?i=o.control_input.nextElementSibling:i=o.control_input.previousElementSibling,i&&(i.classList.contains("active")&&o.removeActiveItem(r),o.setActiveItemClass(i))):o.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var r=this.control.querySelectorAll(".active");if(r)return hr(r,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,Te(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var r,i;const o=this;if(typeof this.settings.render[t]!="function"||(i=o.settings.render[t].call(this,e,ln),!i))return null;if(i=Ee(i),t==="option"||t==="option_create"?e[o.settings.disabledField]?V(i,{"aria-disabled":"true"}):V(i,{"data-selectable":""}):t==="optgroup"&&(r=e.group[o.settings.optgroupValueField],V(i,{"data-group":r}),e.group[o.settings.disabledField]&&V(i,{"data-disabled":""})),t==="option"||t==="item"){const s=Tt(e[o.settings.valueField]);V(i,{"data-value":s}),t==="item"?(fe(i,o.settings.itemClass),V(i,{"data-ts-item":""})):(fe(i,o.settings.optionClass),V(i,{role:"option",id:e.$id}),e.$div=i,o.options[s]=e)}return i}_render(t,e){const r=this.render(t,e);if(r==null)throw"HTMLElement expected";return r}clearCache(){X(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){const e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,r){var i=this,o=i[e];i[e]=function(){var s,a;return t==="after"&&(s=o.apply(i,arguments)),a=r.apply(i,arguments),t==="instead"?a:(t==="before"&&(s=o.apply(i,arguments)),s)}}}const Fa=(n,t,e,r)=>{n.addEventListener(t,e,r)};function Ma(){Fa(this.input,"change",()=>{this.sync()})}const La=n=>typeof n>"u"||n===null?null:Pa(n),Pa=n=>typeof n=="boolean"?n?"1":"0":n+"",Or=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Na=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Ra(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Ra=n=>typeof n=="string"&&n.indexOf("<")>-1;function $a(n){var t=this,e=t.onOptionSelect;t.settings.hideSelected=!1;const r=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},n);var i=function(s,a){a?(s.checked=!0,r.uncheckedClassNames&&s.classList.remove(...r.uncheckedClassNames),r.checkedClassNames&&s.classList.add(...r.checkedClassNames)):(s.checked=!1,r.checkedClassNames&&s.classList.remove(...r.checkedClassNames),r.uncheckedClassNames&&s.classList.add(...r.uncheckedClassNames))},o=function(s){setTimeout(()=>{var a=s.querySelector("input."+r.className);a instanceof HTMLInputElement&&i(a,s.classList.contains("selected"))},1)};t.hook("after","setupTemplates",()=>{var s=t.settings.render.option;t.settings.render.option=(a,l)=>{var c=Na(s.call(t,a,l)),d=document.createElement("input");r.className&&d.classList.add(r.className),d.addEventListener("click",function(m){Or(m)}),d.type="checkbox";const p=La(a[t.settings.valueField]);return i(d,!!(p&&t.items.indexOf(p)>-1)),c.prepend(d),c}}),t.on("item_remove",s=>{var a=t.getOption(s);a&&(a.classList.remove("selected"),o(a))}),t.on("item_add",s=>{var a=t.getOption(s);a&&o(a)}),t.hook("instead","onOptionSelect",(s,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),t.removeItem(a.dataset.value),t.refreshOptions(),Or(s,!0);return}e.call(t,s,a),o(a)})}const Ha=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(ja(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},ja=n=>typeof n=="string"&&n.indexOf("<")>-1;function Ba(n){const t=this,e=Object.assign({className:"clear-button",title:"Clear All",html:r=>`<div class="${r.className}" title="${r.title}">&#10799;</div>`},n);t.on("initialize",()=>{var r=Ha(e.html(e));r.addEventListener("click",i=>{t.isLocked||(t.clear(),t.settings.mode==="single"&&t.settings.allowEmptyOption&&t.addItem(""),i.preventDefault(),i.stopPropagation())}),t.control.appendChild(r)})}const qa=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Ue=(n,t,e,r)=>{n.addEventListener(t,e,r)},Va=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Ua=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Ya(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Ya=n=>typeof n=="string"&&n.indexOf("<")>-1,za=(n,t)=>{Va(t,(e,r)=>{e==null?n.removeAttribute(r):n.setAttribute(r,""+e)})},Ka=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n.nextSibling)},Wa=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n)},Ja=(n,t)=>{do{var e;if(t=(e=t)==null?void 0:e.previousElementSibling,n==t)return!0}while(t&&t.previousElementSibling);return!1};function Ga(){var n=this;if(n.settings.mode!=="multi")return;var t=n.lock,e=n.unlock;let r=!0,i;n.hook("after","setupTemplates",()=>{var o=n.settings.render.item;n.settings.render.item=(s,a)=>{const l=Ua(o.call(n,s,a));za(l,{draggable:"true"});const c=v=>{r||qa(v),v.stopPropagation()},d=v=>{i=l,setTimeout(()=>{l.classList.add("ts-dragging")},0)},p=v=>{v.preventDefault(),l.classList.add("ts-drag-over"),A(l,i)},m=()=>{l.classList.remove("ts-drag-over")},A=(v,O)=>{O!==void 0&&(Ja(O,l)?Ka(v,O):Wa(v,O))},h=()=>{var v;document.querySelectorAll(".ts-drag-over").forEach(S=>S.classList.remove("ts-drag-over")),(v=i)==null||v.classList.remove("ts-dragging"),i=void 0;var O=[];n.control.querySelectorAll("[data-value]").forEach(S=>{if(S.dataset.value){let w=S.dataset.value;w&&O.push(w)}}),n.setValue(O)};return Ue(l,"mousedown",c),Ue(l,"dragstart",d),Ue(l,"dragenter",p),Ue(l,"dragover",p),Ue(l,"dragleave",m),Ue(l,"dragend",h),l}}),n.hook("instead","lock",()=>(r=!1,t.call(n))),n.hook("instead","unlock",()=>(r=!0,e.call(n)))}const Qa=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Xa=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Za(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Za=n=>typeof n=="string"&&n.indexOf("<")>-1;function el(n){const t=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:r=>'<div class="'+r.headerClass+'"><div class="'+r.titleRowClass+'"><span class="'+r.labelClass+'">'+r.title+'</span><a class="'+r.closeClass+'">&times;</a></div></div>'},n);t.on("initialize",()=>{var r=Xa(e.html(e)),i=r.querySelector("."+e.closeClass);i&&i.addEventListener("click",o=>{Qa(o,!0),t.close()}),t.dropdown.insertBefore(r,t.dropdown.firstChild)})}const tl=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},nl=(n,...t)=>{var e=rl(t);n=il(n),n.map(r=>{e.map(i=>{r.classList.remove(i)})})},rl=n=>{var t=[];return tl(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},il=n=>(Array.isArray(n)||(n=[n]),n),sl=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function ol(){var n=this;n.hook("instead","setCaret",t=>{n.settings.mode==="single"||!n.control.contains(n.control_input)?t=n.items.length:(t=Math.max(0,Math.min(n.items.length,t)),t!=n.caretPos&&!n.isPending&&n.controlChildren().forEach((e,r)=>{r<t?n.control_input.insertAdjacentElement("beforebegin",e):n.control.appendChild(e)})),n.caretPos=t}),n.hook("instead","moveCaret",t=>{if(!n.isFocused)return;const e=n.getLastActive(t);if(e){const r=sl(e);n.setCaret(t>0?r+1:r),n.setActiveItem(),nl(e,"last-active")}else n.setCaret(n.caretPos+t)})}const al=27,ll=9,cl=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},ul=(n,t,e,r)=>{n.addEventListener(t,e,r)},dl=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Cr=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(fl(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},fl=n=>typeof n=="string"&&n.indexOf("<")>-1,pl=(n,...t)=>{var e=hl(t);n=gl(n),n.map(r=>{e.map(i=>{r.classList.add(i)})})},hl=n=>{var t=[];return dl(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},gl=n=>(Array.isArray(n)||(n=[n]),n);function ml(){const n=this;n.settings.shouldOpen=!0,n.hook("before","setup",()=>{n.focus_node=n.control,pl(n.control_input,"dropdown-input");const t=Cr('<div class="dropdown-input-wrap">');t.append(n.control_input),n.dropdown.insertBefore(t,n.dropdown.firstChild);const e=Cr('<input class="items-placeholder" tabindex="-1" />');e.placeholder=n.settings.placeholder||"",n.control.append(e)}),n.on("initialize",()=>{n.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case al:n.isOpen&&(cl(e,!0),n.close()),n.clearActiveItems();return;case ll:n.focus_node.tabIndex=-1;break}return n.onKeyDown.call(n,e)}),n.on("blur",()=>{n.focus_node.tabIndex=n.isDisabled?-1:n.tabIndex}),n.on("dropdown_open",()=>{n.control_input.focus()});const t=n.onBlur;n.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==n.control_input))return t.call(n)}),ul(n.control_input,"blur",()=>n.onBlur()),n.hook("before","close",()=>{n.isOpen&&n.focus_node.focus({preventScroll:!0})})})}const Ot=(n,t,e,r)=>{n.addEventListener(t,e,r)};function vl(){var n=this;n.on("initialize",()=>{var t=document.createElement("span"),e=n.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",n.wrapper.appendChild(t);var r=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of r)t.style[o]=e.style[o];var i=()=>{t.textContent=e.value,e.style.width=t.clientWidth+"px"};i(),n.on("update item_add item_remove",i),Ot(e,"input",i),Ot(e,"keyup",i),Ot(e,"blur",i),Ot(e,"update",i)})}function yl(){var n=this,t=n.deleteSelection;this.hook("instead","deleteSelection",e=>n.activeItems.length?t.call(n,e):!1)}function bl(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const _r=37,wl=39,Ol=(n,t,e)=>{for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},Cl=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function _l(){var n=this,t=n.onKeyDown;n.hook("instead","onKeyDown",e=>{var r,i,o,s;if(!n.isOpen||!(e.keyCode===_r||e.keyCode===wl))return t.call(n,e);n.ignoreHover=!0,s=Ol(n.activeOption,"[data-group]"),r=Cl(n.activeOption,"[data-selectable]"),s&&(e.keyCode===_r?s=s.previousSibling:s=s.nextSibling,s&&(o=s.querySelectorAll("[data-selectable]"),i=o[Math.min(o.length-1,r)],i&&n.setActiveOption(i)))})}const Sl=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Sr=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Er=(n,t,e,r)=>{n.addEventListener(t,e,r)},Ar=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(El(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},El=n=>typeof n=="string"&&n.indexOf("<")>-1;function Al(n){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},n);var e=this;if(t.append){var r='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+Sl(t.title)+'">'+t.label+"</a>";e.hook("after","setupTemplates",()=>{var i=e.settings.render.item;e.settings.render.item=(o,s)=>{var a=Ar(i.call(e,o,s)),l=Ar(r);return a.appendChild(l),Er(l,"mousedown",c=>{Sr(c,!0)}),Er(l,"click",c=>{e.isLocked||(Sr(c,!0),!e.isLocked&&e.shouldDelete([a],c)&&(e.removeItem(a),e.refreshOptions(!1),e.inputState()))}),a}})}}function xl(n){const t=this,e=Object.assign({text:r=>r[t.settings.labelField]},n);t.on("item_remove",function(r){if(t.isFocused&&t.control_input.value.trim()===""){var i=t.options[r];i&&t.setTextboxValue(e.text.call(t,i))}})}const Dl=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},kl=(n,...t)=>{var e=Il(t);n=Tl(n),n.map(r=>{e.map(i=>{r.classList.add(i)})})},Il=n=>{var t=[];return Dl(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Tl=n=>(Array.isArray(n)||(n=[n]),n);function Fl(){const n=this,t=n.canLoad,e=n.clearActiveOption,r=n.loadCallback;var i={},o,s=!1,a,l=[];if(n.settings.shouldLoadMore||(n.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(n.activeOption){var p=n.selectable(),m=Array.from(p).indexOf(n.activeOption);if(m>=p.length-2)return!0}return!1}),!n.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";n.settings.sortField=[{field:"$order"},{field:"$score"}];const c=p=>typeof n.settings.maxOptions=="number"&&o.children.length>=n.settings.maxOptions?!1:!!(p in i&&i[p]),d=(p,m)=>n.items.indexOf(m)>=0||l.indexOf(m)>=0;n.setNextUrl=(p,m)=>{i[p]=m},n.getUrl=p=>{if(p in i){const m=i[p];return i[p]=!1,m}return n.clearPagination(),n.settings.firstUrl.call(n,p)},n.clearPagination=()=>{i={}},n.hook("instead","clearActiveOption",()=>{if(!s)return e.call(n)}),n.hook("instead","canLoad",p=>p in i?c(p):t.call(n,p)),n.hook("instead","loadCallback",(p,m)=>{if(!s)n.clearOptions(d);else if(a){const A=p[0];A!==void 0&&(a.dataset.value=A[n.settings.valueField])}r.call(n,p,m),s=!1}),n.hook("after","refreshOptions",()=>{const p=n.lastValue;var m;c(p)?(m=n.render("loading_more",{query:p}),m&&(m.setAttribute("data-selectable",""),a=m)):p in i&&!o.querySelector(".no-results")&&(m=n.render("no_more_results",{query:p})),m&&(kl(m,n.settings.optionClass),o.append(m))}),n.on("initialize",()=>{l=Object.keys(n.options),o=n.dropdown_content,n.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},n.settings.render),o.addEventListener("scroll",()=>{n.settings.shouldLoadMore.call(n)&&c(n.lastValue)&&(s||(s=!0,n.load.call(n,n.lastValue)))})})}se.define("change_listener",Ma);se.define("checkbox_options",$a);se.define("clear_button",Ba);se.define("drag_drop",Ga);se.define("dropdown_header",el);se.define("caret_position",ol);se.define("dropdown_input",ml);se.define("input_autogrow",vl);se.define("no_backspace_delete",yl);se.define("no_active_items",bl);se.define("optgroup_columns",_l);se.define("remove_button",Al);se.define("restore_on_backspace",xl);se.define("virtual_scroll",Fl);const Ml=n=>({init(){const t=this.$refs[`select_picker_${n.dataField}_${n.tableName}`],e={items:n.initialValues,...n.framework,onChange:o=>{vi(n,o)},onInitialize:()=>{n.appliedFilters&&n.dataField&&this.applyFilterForDataField(n.appliedFilters,n.dataField,t),window.addEventListener(`pg:clear_multi_select::${n.tableName}:${n.dataField}`,()=>{t&&t.tomselect.clear(!0)}),window.addEventListener(`pg:clear_all_multi_select::${n.tableName}`,()=>{t&&t.tomselect.clear(!0)})}},r={valueField:n.optionValue,labelField:n.optionLabel,searchField:n.optionLabel,load:async function(o,s){function a(l,c){var d;const{method:p,url:m}=l,A=new Request(m,{method:p,body:p.toLowerCase()==="post"?JSON.stringify({search:c,...i}):void 0});A.headers.set("Content-Type","application/json"),A.headers.set("Accept","application/json"),A.headers.set("X-Requested-With","XMLHttpRequest");const h=(d=document.head.querySelector('[name="csrf-token"]'))==null?void 0:d.getAttribute("content");return h&&A.headers.set("X-CSRF-TOKEN",h),A}fetch(a(n.asyncData,o)).then(l=>l.json()).then(l=>{s(l)}).catch(()=>{s()})},render:{option:function(o,s){return`<div class="py-2 mb-1"><span>${s(o[n.optionLabel])}</span></div>`},item:function(o,s){return`<div class="py-2 mb-1"><span>${s(o[n.optionLabel])}</span></div>`}}};let i=e;n.hasOwnProperty("asyncData")&&(i=Object.assign(e,r)),new se(t,i)},applyFilterForDataField(t,e,r){const i=e.split(".");let o=t;for(const s of i)if(o&&typeof o=="object"&&o.hasOwnProperty(s))o=o[s];else return;Array.isArray(o)&&o.length>0&&r.tomselect.addItems(o)}}),Ll=n=>({initialValues:n.initialValues,framework:n.framework,init(){const t=this.$refs["select_picker_"+n.dataField+"_"+n.tableName],e=this.deepCopy(this.framework);new window.SlimSelect({select:t,...e,events:{afterChange:r=>{let i=r.map(o=>o.value);vi(n,i)}}}),n.appliedFilters&&n.dataField&&this.applyFilterForDataField(n.appliedFilters,n.dataField,t),window.addEventListener("pg:clear_multi_select::"+n.tableName+":"+n.dataField,()=>{t.slim.setSelected([],!1)}),window.addEventListener("pg:clear_all_multi_select::"+n.tableName,()=>{t.slim.setSelected([],!1)})},applyFilterForDataField(t,e,r){const i=e.split(".");let o=t;for(const s of i)if(o&&typeof o=="object"&&o.hasOwnProperty(s))o=o[s];else return;Array.isArray(o)&&o.length>0&&r.slim.setSelected(o,!1)},deepCopy(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(this.deepCopy);const e={};for(const r in t)t.hasOwnProperty(r)&&(e[r]=this.deepCopy(t[r]));return e}}),Pl=()=>({init(){Livewire.on("pg:scrollTop",n=>{setTimeout(()=>{document.querySelector("body").scrollIntoView({behavior:"auto"})},0)}),new IntersectionObserver(n=>{n[0].isIntersecting&&this.$wire.call("loadMore")},{rootMargin:"300px"}).observe(this.$el)}}),Nl=n=>({rowId:n?.rowId??null,parentId:n?.parentId??null,toHtml(){let t=null;const e=this.parentId??this.$wire.id;if(this.rowId){const i=window[`pgActions_${e}`];i&&i[this.rowId]!==void 0&&(t=i[this.rowId])}else t=window[`pgActionsHeader_${e}`];if(typeof t!="object"||t===null)return"";let r="";return t.forEach(i=>{let o=this.shouldHideAction(i),s=this.getReplaceHtml(i);if(!o)if(s)r+=s;else{let a=this.buildAttributesString(i);if(i.icon){let l=this.processIcon(i);if(!l)return;r+=this.buildActionHtmlWithIcon(i,a,l)}else r+=this.buildActionHtml(i,a)}}),r},shouldHideAction(t){if(t.can===!1)return!0;let e=!1;return t.rules&&Object.values(t.rules).length>0&&Object.values(t.rules).forEach(r=>{r.action.includes(t.action)&&r.apply&&r.rule.hide&&(e=!0)}),e},getReplaceHtml(t){let e=null;return t.rules&&Object.values(t.rules).length>0&&Object.values(t.rules).forEach(r=>{r.apply&&r.action.includes(t.action)&&r.replaceHtml&&(e=r.replaceHtml)}),e},buildAttributesString(t){let e=t.attributes??[];return t.rules&&Object.values(t.rules).length>0&&Object.values(t.rules).forEach(r=>{r.apply&&r.action.includes(t.action)&&r.rule.setAttribute&&r.rule.setAttribute.length>0&&Object.values(r.rule.setAttribute).forEach(i=>{e[i.attribute]=i.value})}),Object.entries(e).map(([r,i])=>` ${r}="${i}"`).join("")},processIcon(t){const e=Object.entries(t.iconAttributes??[]).map(([i,o])=>` ${i}="${o}"`).join("");let r=window.pgResourceIcons[t.icon];return typeof r>"u"?(console.warn(`PowerGrid: Unable to load icons in javascript window in row: [${this.rowId}]`),null):this.replaceIconAttributes(r,e)},replaceIconAttributes(t,e){return t.replace(/<([^\s>]+)([^>]*)>/,(r,i,o)=>{let s=o.trim();const a=e.replace(/class="([^"]*)"/,(l,c)=>(s.includes("class=")?s=s.replace(/class="([^"]*)"/,(d,p)=>`class="${p} ${c.trim()}"`):s+=` ${l}`,""));return`<${i} ${s} ${a}>`})},buildActionHtmlWithIcon(t,e,r){return t.slot?`<${t.tag??"button"} ${e}>${r} ${t.slot}</${t.tag??"button"}>`:`<${t.tag??"button"} ${e}>${r}</${t.tag??"button"}>`},buildActionHtml(t,e){return`<${t.tag??"button"} ${e}>${t.slot}</${t.tag??"button"}>`}}),Rl=n=>({templateContent:n?.templateContent??null,rendered:null,parentId:n?.parentId??null,init(){const t=Object.keys(this.templateContent)[0],e=window[`pgRowTemplates_${this.parentId??this.$wire.id}`][t],r=this.templateContent[t];if(r){let i=e;for(const[o,s]of Object.entries(r)){const a=`{{ ${o} }}`,l=String(s).replace(/'/g,"\\'");i=i.replaceAll(a,l)}this.rendered=i}}}),$l=n=>({rowId:n.rowId,rules:n.rules,defaultClasses:n.defaultClasses,attributes:[],theme:[],init(){this.rules&&Object.values(this.rules).forEach(t=>{(t.applyLoop||t.apply)&&t!=null&&t.attributes&&this.attributes.push(t.attributes)})},getAttributes(){let t={class:this.defaultClasses};return this.attributes.forEach(e=>{Object.keys(e).forEach(r=>{typeof e[r]=="object"?t[e[r].key]=e[r].value:t[r]?t[r]+=` ${e[r]}`:t[r]=e[r]})}),t}});window.pgToggleable=No;window.pgFlatpickr=$o;window.pgEditable=Ho;window.pgResponsive=zo;window.pgTomSelect=Ml;window.pgSlimSelect=Ll;window.pgLoadMore=Pl;window.pgRenderActions=Nl;window.pgRowAttributes=$l;window.pgRenderRowTemplate=Rl;document.addEventListener("DOMContentLoaded",()=>{Livewire.hook("commit",({component:n,succeed:t,fail:e})=>{n.ephemeral.setUp&&n.ephemeral.setUp.hasOwnProperty("responsive")&&(t(()=>{queueMicrotask(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))})}),e(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))}))})});document.addEventListener("DOMContentLoaded",()=>{window.Alpine.directive("multisort-shift-click",(n,{expression:t})=>{n.addEventListener("click",e=>{window.Livewire.find(t).set("multiSort",e.shiftKey)})})});var fn=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Ke={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var t=new Date(n.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var e=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},it={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var t=n%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ae=function(n,t){return t===void 0&&(t=2),("000"+n).slice(t*-1)},ye=function(n){return n===!0?1:0};function xr(n,t){var e;return function(){var r=this,i=arguments;clearTimeout(e),e=setTimeout(function(){return n.apply(r,i)},t)}}var pn=function(n){return n instanceof Array?n:[n]};function re(n,t,e){if(e===!0)return n.classList.add(t);n.classList.remove(t)}function H(n,t,e){var r=window.document.createElement(n);return t=t||"",e=e||"",r.className=t,e!==void 0&&(r.textContent=e),r}function Ct(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Ei(n,t){if(t(n))return n;if(n.parentNode)return Ei(n.parentNode,t)}function _t(n,t){var e=H("div","numInputWrapper"),r=H("input","numInput "+n),i=H("span","arrowUp"),o=H("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),t!==void 0)for(var s in t)r.setAttribute(s,t[s]);return e.appendChild(r),e.appendChild(i),e.appendChild(o),e}function pe(n){try{if(typeof n.composedPath=="function"){var t=n.composedPath();return t[0]}return n.target}catch{return n.target}}var hn=function(){},Rt=function(n,t,e){return e.months[t?"shorthand":"longhand"][n]},Hl={D:hn,F:function(n,t,e){n.setMonth(e.months.longhand.indexOf(t))},G:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},H:function(n,t){n.setHours(parseFloat(t))},J:function(n,t){n.setDate(parseFloat(t))},K:function(n,t,e){n.setHours(n.getHours()%12+12*ye(new RegExp(e.amPM[1],"i").test(t)))},M:function(n,t,e){n.setMonth(e.months.shorthand.indexOf(t))},S:function(n,t){n.setSeconds(parseFloat(t))},U:function(n,t){return new Date(parseFloat(t)*1e3)},W:function(n,t,e){var r=parseInt(t),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+e.firstDayOfWeek),i},Y:function(n,t){n.setFullYear(parseFloat(t))},Z:function(n,t){return new Date(t)},d:function(n,t){n.setDate(parseFloat(t))},h:function(n,t){n.setHours((n.getHours()>=12?12:0)+parseFloat(t))},i:function(n,t){n.setMinutes(parseFloat(t))},j:function(n,t){n.setDate(parseFloat(t))},l:hn,m:function(n,t){n.setMonth(parseFloat(t)-1)},n:function(n,t){n.setMonth(parseFloat(t)-1)},s:function(n,t){n.setSeconds(parseFloat(t))},u:function(n,t){return new Date(parseFloat(t))},w:hn,y:function(n,t){n.setFullYear(2e3+parseFloat(t))}},$e={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},nt={Z:function(n){return n.toISOString()},D:function(n,t,e){return t.weekdays.shorthand[nt.w(n,t,e)]},F:function(n,t,e){return Rt(nt.n(n,t,e)-1,!1,t)},G:function(n,t,e){return ae(nt.h(n,t,e))},H:function(n){return ae(n.getHours())},J:function(n,t){return t.ordinal!==void 0?n.getDate()+t.ordinal(n.getDate()):n.getDate()},K:function(n,t){return t.amPM[ye(n.getHours()>11)]},M:function(n,t){return Rt(n.getMonth(),!0,t)},S:function(n){return ae(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,t,e){return e.getWeek(n)},Y:function(n){return ae(n.getFullYear(),4)},d:function(n){return ae(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return ae(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,t){return t.weekdays.longhand[n.getDay()]},m:function(n){return ae(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Ai=function(n){var t=n.config,e=t===void 0?Ke:t,r=n.l10n,i=r===void 0?it:r,o=n.isMobile,s=o===void 0?!1:o;return function(a,l,c){var d=c||i;return e.formatDate!==void 0&&!s?e.formatDate(a,l,d):l.split("").map(function(p,m,A){return nt[p]&&A[m-1]!=="\\"?nt[p](a,d,e):p!=="\\"?p:""}).join("")}},In=function(n){var t=n.config,e=t===void 0?Ke:t,r=n.l10n,i=r===void 0?it:r;return function(o,s,a,l){if(!(o!==0&&!o)){var c=l||i,d,p=o;if(o instanceof Date)d=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)d=new Date(o);else if(typeof o=="string"){var m=s||(e||Ke).dateFormat,A=String(o).trim();if(A==="today")d=new Date,a=!0;else if(e&&e.parseDate)d=e.parseDate(o,m);else if(/Z$/.test(A)||/GMT$/.test(A))d=new Date(o);else{for(var h=void 0,v=[],O=0,S=0,w="";O<m.length;O++){var x=m[O],L=x==="\\",q=m[O-1]==="\\"||L;if($e[x]&&!q){w+=$e[x];var j=new RegExp(w).exec(o);j&&(h=!0)&&v[x!=="Y"?"push":"unshift"]({fn:Hl[x],val:j[++S]})}else L||(w+=".")}d=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),v.forEach(function(C){var D=C.fn,_=C.val;return d=D(d,_,c)||d}),d=h?d:void 0}}if(!(d instanceof Date&&!isNaN(d.getTime()))){e.errorHandler(new Error("Invalid date provided: "+p));return}return a===!0&&d.setHours(0,0,0,0),d}}};function ge(n,t,e){return e===void 0&&(e=!0),e!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):n.getTime()-t.getTime()}var jl=function(n,t,e){return n>Math.min(t,e)&&n<Math.max(t,e)},gn=function(n,t,e){return n*3600+t*60+e},Bl=function(n){var t=Math.floor(n/3600),e=(n-t*3600)/60;return[t,e,n-t*3600-e*60]},ql={DAY:864e5};function mn(n){var t=n.defaultHour,e=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),o=n.minDate.getMinutes(),s=n.minDate.getSeconds();t<i&&(t=i),t===i&&e<o&&(e=o),t===i&&e===o&&r<s&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var a=n.maxDate.getHours(),l=n.maxDate.getMinutes();t=Math.min(t,a),t===a&&(e=Math.min(l,e)),t===a&&e===l&&(r=n.maxDate.getSeconds())}return{hours:t,minutes:e,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(a){a&&Object.keys(a).forEach(function(l){return n[l]=a[l]})},i=0,o=t;i<o.length;i++){var s=o[i];r(s)}return n});var ee=function(){return ee=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ee.apply(this,arguments)},Dr=function(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<e;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Vl=300;function Ul(n,t){var e={config:ee(ee({},Ke),Q.defaultConfig),l10n:it};e.parseDate=In({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=v,e._setHoursFromDate=m,e._positionCalendar=ht,e.changeMonth=ve,e.changeYear=dt,e.clear=ke,e.close=Ze,e.onMouseOver=pt,e._createElement=H,e.createDay=j,e.destroy=qe,e.isEnabled=Me,e.jumpToDate=w,e.updateValue=De,e.open=Ni,e.redraw=qn,e.set=ji,e.setDate=Bi,e.toggle=Yi;function r(){e.utils={getDaysInMonth:function(u,f){return u===void 0&&(u=e.currentMonth),f===void 0&&(f=e.currentYear),u===1&&(f%4===0&&f%100!==0||f%400===0)?29:e.l10n.daysInMonth[u]}}}function i(){e.element=e.input=n,e.isOpen=!1,Ri(),Bn(),Vi(),qi(),r(),e.isMobile||q(),S(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&m(e.config.noCalendar?e.latestSelectedDateObj:void 0),De(!1)),a();var u=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&u&&ht(),Y("onReady")}function o(){var u;return((u=e.calendarContainer)===null||u===void 0?void 0:u.getRootNode()).activeElement||document.activeElement}function s(u){return u.bind(e)}function a(){var u=e.config;u.weekNumbers===!1&&u.showMonths===1||u.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var f=(e.days.offsetWidth+1)*u.showMonths;e.daysContainer.style.width=f+"px",e.calendarContainer.style.width=f+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function l(u){if(e.selectedDates.length===0){var f=e.config.minDate===void 0||ge(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),g=mn(e.config);f.setHours(g.hours,g.minutes,g.seconds,f.getMilliseconds()),e.selectedDates=[f],e.latestSelectedDateObj=f}u!==void 0&&u.type!=="blur"&&Wi(u);var b=e._input.value;p(),De(),e._input.value!==b&&e._debouncedChange()}function c(u,f){return u%12+12*ye(f===e.l10n.amPM[1])}function d(u){switch(u%24){case 0:case 12:return 12;default:return u%12}}function p(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var u=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,f=(parseInt(e.minuteElement.value,10)||0)%60,g=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(u=c(u,e.amPM.textContent));var b=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&ge(e.latestSelectedDateObj,e.config.minDate,!0)===0,E=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&ge(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var k=gn(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),R=gn(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),F=gn(u,f,g);if(F>R&&F<k){var $=Bl(k);u=$[0],f=$[1],g=$[2]}}else{if(E){var T=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;u=Math.min(u,T.getHours()),u===T.getHours()&&(f=Math.min(f,T.getMinutes())),f===T.getMinutes()&&(g=Math.min(g,T.getSeconds()))}if(b){var M=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;u=Math.max(u,M.getHours()),u===M.getHours()&&f<M.getMinutes()&&(f=M.getMinutes()),f===M.getMinutes()&&(g=Math.max(g,M.getSeconds()))}}A(u,f,g)}}function m(u){var f=u||e.latestSelectedDateObj;f&&f instanceof Date&&A(f.getHours(),f.getMinutes(),f.getSeconds())}function A(u,f,g){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(u%24,f,g||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=ae(e.config.time_24hr?u:(12+u)%12+12*ye(u%12===0)),e.minuteElement.value=ae(f),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[ye(u>=12)]),e.secondElement!==void 0&&(e.secondElement.value=ae(g)))}function h(u){var f=pe(u),g=parseInt(f.value)+(u.delta||0);(g/1e3>1||u.key==="Enter"&&!/[^\d]/.test(g.toString()))&&dt(g)}function v(u,f,g,b){if(f instanceof Array)return f.forEach(function(E){return v(u,E,g,b)});if(u instanceof Array)return u.forEach(function(E){return v(E,f,g,b)});u.addEventListener(f,g,b),e._handlers.push({remove:function(){return u.removeEventListener(f,g,b)}})}function O(){Y("onChange")}function S(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(g){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+g+"]"),function(b){return v(b,"click",e[g])})}),e.isMobile){Ui();return}var u=xr(Pi,50);if(e._debouncedChange=xr(O,Vl),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&v(e.daysContainer,"mouseover",function(g){e.config.mode==="range"&&pt(pe(g))}),v(e._input,"keydown",$n),e.calendarContainer!==void 0&&v(e.calendarContainer,"keydown",$n),!e.config.inline&&!e.config.static&&v(window,"resize",u),window.ontouchstart!==void 0?v(window.document,"touchstart",Jt):v(window.document,"mousedown",Jt),v(window.document,"focus",Jt,{capture:!0}),e.config.clickOpens===!0&&(v(e._input,"focus",e.open),v(e._input,"click",e.open)),e.daysContainer!==void 0&&(v(e.monthNav,"click",Ki),v(e.monthNav,["keyup","increment"],h),v(e.daysContainer,"click",Vn)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var f=function(g){return pe(g).select()};v(e.timeContainer,["increment"],l),v(e.timeContainer,"blur",l,{capture:!0}),v(e.timeContainer,"click",x),v([e.hourElement,e.minuteElement],["focus","click"],f),e.secondElement!==void 0&&v(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&v(e.amPM,"click",function(g){l(g)})}e.config.allowInput&&v(e._input,"blur",Li)}function w(u,f){var g=u!==void 0?e.parseDate(u):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),b=e.currentYear,E=e.currentMonth;try{g!==void 0&&(e.currentYear=g.getFullYear(),e.currentMonth=g.getMonth())}catch(k){k.message="Invalid date supplied: "+g,e.config.errorHandler(k)}f&&e.currentYear!==b&&(Y("onYearChange"),z()),f&&(e.currentYear!==b||e.currentMonth!==E)&&Y("onMonthChange"),e.redraw()}function x(u){var f=pe(u);~f.className.indexOf("arrow")&&L(u,f.classList.contains("arrowUp")?1:-1)}function L(u,f,g){var b=u&&pe(u),E=g||b&&b.parentNode&&b.parentNode.firstChild,k=Qt("increment");k.delta=f,E&&E.dispatchEvent(k)}function q(){var u=window.document.createDocumentFragment();if(e.calendarContainer=H("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(u.appendChild(me()),e.innerContainer=H("div","flatpickr-innerContainer"),e.config.weekNumbers){var f=Wt(),g=f.weekWrapper,b=f.weekNumbers;e.innerContainer.appendChild(g),e.weekNumbers=b,e.weekWrapper=g}e.rContainer=H("div","flatpickr-rContainer"),e.rContainer.appendChild(be()),e.daysContainer||(e.daysContainer=H("div","flatpickr-days"),e.daysContainer.tabIndex=-1),G(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),u.appendChild(e.innerContainer)}e.config.enableTime&&u.appendChild(ut()),re(e.calendarContainer,"rangeMode",e.config.mode==="range"),re(e.calendarContainer,"animate",e.config.animate===!0),re(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(u);var E=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!E&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var k=H("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(k,e.element),k.appendChild(e.element),e.altInput&&k.appendChild(e.altInput),k.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function j(u,f,g,b){var E=Me(f,!0),k=H("span",u,f.getDate().toString());return k.dateObj=f,k.$i=b,k.setAttribute("aria-label",e.formatDate(f,e.config.ariaDateFormat)),u.indexOf("hidden")===-1&&ge(f,e.now)===0&&(e.todayDateElem=k,k.classList.add("today"),k.setAttribute("aria-current","date")),E?(k.tabIndex=-1,Xt(f)&&(k.classList.add("selected"),e.selectedDateElem=k,e.config.mode==="range"&&(re(k,"startRange",e.selectedDates[0]&&ge(f,e.selectedDates[0],!0)===0),re(k,"endRange",e.selectedDates[1]&&ge(f,e.selectedDates[1],!0)===0),u==="nextMonthDay"&&k.classList.add("inRange")))):k.classList.add("flatpickr-disabled"),e.config.mode==="range"&&zi(f)&&!Xt(f)&&k.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&u!=="prevMonthDay"&&b%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(f)+"</span>"),Y("onDayCreate",k),k}function C(u){u.focus(),e.config.mode==="range"&&pt(u)}function D(u){for(var f=u>0?0:e.config.showMonths-1,g=u>0?e.config.showMonths:-1,b=f;b!=g;b+=u)for(var E=e.daysContainer.children[b],k=u>0?0:E.children.length-1,R=u>0?E.children.length:-1,F=k;F!=R;F+=u){var $=E.children[F];if($.className.indexOf("hidden")===-1&&Me($.dateObj))return $}}function _(u,f){for(var g=u.className.indexOf("Month")===-1?u.dateObj.getMonth():e.currentMonth,b=f>0?e.config.showMonths:-1,E=f>0?1:-1,k=g-e.currentMonth;k!=b;k+=E)for(var R=e.daysContainer.children[k],F=g-e.currentMonth===k?u.$i+f:f<0?R.children.length-1:0,$=R.children.length,T=F;T>=0&&T<$&&T!=(f>0?$:-1);T+=E){var M=R.children[T];if(M.className.indexOf("hidden")===-1&&Me(M.dateObj)&&Math.abs(u.$i-T)>=Math.abs(f))return C(M)}e.changeMonth(E),P(D(E),0)}function P(u,f){var g=o(),b=ft(g||document.body),E=u!==void 0?u:b?g:e.selectedDateElem!==void 0&&ft(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&ft(e.todayDateElem)?e.todayDateElem:D(f>0?1:-1);E===void 0?e._input.focus():b?_(E,f):C(E)}function I(u,f){for(var g=(new Date(u,f,1).getDay()-e.l10n.firstDayOfWeek+7)%7,b=e.utils.getDaysInMonth((f-1+12)%12,u),E=e.utils.getDaysInMonth(f,u),k=window.document.createDocumentFragment(),R=e.config.showMonths>1,F=R?"prevMonthDay hidden":"prevMonthDay",$=R?"nextMonthDay hidden":"nextMonthDay",T=b+1-g,M=0;T<=b;T++,M++)k.appendChild(j("flatpickr-day "+F,new Date(u,f-1,T),T,M));for(T=1;T<=E;T++,M++)k.appendChild(j("flatpickr-day",new Date(u,f,T),T,M));for(var B=E+1;B<=42-g&&(e.config.showMonths===1||M%7!==0);B++,M++)k.appendChild(j("flatpickr-day "+$,new Date(u,f+1,B%E),B,M));var _e=H("div","dayContainer");return _e.appendChild(k),_e}function G(){if(e.daysContainer!==void 0){Ct(e.daysContainer),e.weekNumbers&&Ct(e.weekNumbers);for(var u=document.createDocumentFragment(),f=0;f<e.config.showMonths;f++){var g=new Date(e.currentYear,e.currentMonth,1);g.setMonth(e.currentMonth+f),u.appendChild(I(g.getFullYear(),g.getMonth()))}e.daysContainer.appendChild(u),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&pt()}}function z(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var u=function(b){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&b<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&b>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var f=0;f<12;f++)if(u(f)){var g=H("option","flatpickr-monthDropdown-month");g.value=new Date(e.currentYear,f).getMonth().toString(),g.textContent=Rt(f,e.config.shorthandCurrentMonth,e.l10n),g.tabIndex=-1,e.currentMonth===f&&(g.selected=!0),e.monthsDropdownContainer.appendChild(g)}}}function ue(){var u=H("div","flatpickr-month"),f=window.document.createDocumentFragment(),g;e.config.showMonths>1||e.config.monthSelectorType==="static"?g=H("span","cur-month"):(e.monthsDropdownContainer=H("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),v(e.monthsDropdownContainer,"change",function(R){var F=pe(R),$=parseInt(F.value,10);e.changeMonth($-e.currentMonth),Y("onMonthChange")}),z(),g=e.monthsDropdownContainer);var b=_t("cur-year",{tabindex:"-1"}),E=b.getElementsByTagName("input")[0];E.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&E.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(E.setAttribute("max",e.config.maxDate.getFullYear().toString()),E.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var k=H("div","flatpickr-current-month");return k.appendChild(g),k.appendChild(b),f.appendChild(k),u.appendChild(f),{container:u,yearElement:E,monthElement:g}}function xe(){Ct(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var u=e.config.showMonths;u--;){var f=ue();e.yearElements.push(f.yearElement),e.monthElements.push(f.monthElement),e.monthNav.appendChild(f.container)}e.monthNav.appendChild(e.nextMonthNav)}function me(){return e.monthNav=H("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=H("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=H("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,xe(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(u){e.__hidePrevMonthArrow!==u&&(re(e.prevMonthNav,"flatpickr-disabled",u),e.__hidePrevMonthArrow=u)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(u){e.__hideNextMonthArrow!==u&&(re(e.nextMonthNav,"flatpickr-disabled",u),e.__hideNextMonthArrow=u)}}),e.currentYearElement=e.yearElements[0],mt(),e.monthNav}function ut(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var u=mn(e.config);e.timeContainer=H("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var f=H("span","flatpickr-time-separator",":"),g=_t("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=g.getElementsByTagName("input")[0];var b=_t("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=b.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=ae(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?u.hours:d(u.hours)),e.minuteElement.value=ae(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():u.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(g),e.timeContainer.appendChild(f),e.timeContainer.appendChild(b),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var E=_t("flatpickr-second");e.secondElement=E.getElementsByTagName("input")[0],e.secondElement.value=ae(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():u.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(H("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(E)}return e.config.time_24hr||(e.amPM=H("span","flatpickr-am-pm",e.l10n.amPM[ye((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function be(){e.weekdayContainer?Ct(e.weekdayContainer):e.weekdayContainer=H("div","flatpickr-weekdays");for(var u=e.config.showMonths;u--;){var f=H("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(f)}return Xe(),e.weekdayContainer}function Xe(){if(e.weekdayContainer){var u=e.l10n.firstDayOfWeek,f=Dr(e.l10n.weekdays.shorthand);u>0&&u<f.length&&(f=Dr(f.splice(u,f.length),f.splice(0,u)));for(var g=e.config.showMonths;g--;)e.weekdayContainer.children[g].innerHTML=`
      <span class='flatpickr-weekday'>
        `+f.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Wt(){e.calendarContainer.classList.add("hasWeeks");var u=H("div","flatpickr-weekwrapper");u.appendChild(H("span","flatpickr-weekday",e.l10n.weekAbbreviation));var f=H("div","flatpickr-weeks");return u.appendChild(f),{weekWrapper:u,weekNumbers:f}}function ve(u,f){f===void 0&&(f=!0);var g=f?u:u-e.currentMonth;g<0&&e._hidePrevMonthArrow===!0||g>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=g,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,Y("onYearChange"),z()),G(),Y("onMonthChange"),mt())}function ke(u,f){if(u===void 0&&(u=!0),f===void 0&&(f=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,f===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var g=mn(e.config),b=g.hours,E=g.minutes,k=g.seconds;A(b,E,k)}e.redraw(),u&&Y("onChange")}function Ze(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),Y("onClose")}function qe(){e.config!==void 0&&Y("onDestroy");for(var u=e._handlers.length;u--;)e._handlers[u].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var f=e.calendarContainer.parentNode;if(f.lastChild&&f.removeChild(f.lastChild),f.parentNode){for(;f.firstChild;)f.parentNode.insertBefore(f.firstChild,f);f.parentNode.removeChild(f)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(g){try{delete e[g]}catch{}})}function Ie(u){return e.calendarContainer.contains(u)}function Jt(u){if(e.isOpen&&!e.config.inline){var f=pe(u),g=Ie(f),b=f===e.input||f===e.altInput||e.element.contains(f)||u.path&&u.path.indexOf&&(~u.path.indexOf(e.input)||~u.path.indexOf(e.altInput)),E=!b&&!g&&!Ie(u.relatedTarget),k=!e.config.ignoredFocusElements.some(function(R){return R.contains(f)});E&&k&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&l(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function dt(u){if(!(!u||e.config.minDate&&u<e.config.minDate.getFullYear()||e.config.maxDate&&u>e.config.maxDate.getFullYear())){var f=u,g=e.currentYear!==f;e.currentYear=f||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),g&&(e.redraw(),Y("onYearChange"),z())}}function Me(u,f){var g;f===void 0&&(f=!0);var b=e.parseDate(u,void 0,f);if(e.config.minDate&&b&&ge(b,e.config.minDate,f!==void 0?f:!e.minDateHasTime)<0||e.config.maxDate&&b&&ge(b,e.config.maxDate,f!==void 0?f:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(b===void 0)return!1;for(var E=!!e.config.enable,k=(g=e.config.enable)!==null&&g!==void 0?g:e.config.disable,R=0,F=void 0;R<k.length;R++){if(F=k[R],typeof F=="function"&&F(b))return E;if(F instanceof Date&&b!==void 0&&F.getTime()===b.getTime())return E;if(typeof F=="string"){var $=e.parseDate(F,void 0,!0);return $&&$.getTime()===b.getTime()?E:!E}else if(typeof F=="object"&&b!==void 0&&F.from&&F.to&&b.getTime()>=F.from.getTime()&&b.getTime()<=F.to.getTime())return E}return!E}function ft(u){return e.daysContainer!==void 0?u.className.indexOf("hidden")===-1&&u.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(u):!1}function Li(u){var f=u.target===e._input,g=e._input.value.trimEnd()!==Zt();f&&g&&!(u.relatedTarget&&Ie(u.relatedTarget))&&e.setDate(e._input.value,!0,u.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function $n(u){var f=pe(u),g=e.config.wrap?n.contains(f):f===e._input,b=e.config.allowInput,E=e.isOpen&&(!b||!g),k=e.config.inline&&g&&!b;if(u.keyCode===13&&g){if(b)return e.setDate(e._input.value,!0,f===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),f.blur();e.open()}else if(Ie(f)||E||k){var R=!!e.timeContainer&&e.timeContainer.contains(f);switch(u.keyCode){case 13:R?(u.preventDefault(),l(),Gt()):Vn(u);break;case 27:u.preventDefault(),Gt();break;case 8:case 46:g&&!e.config.allowInput&&(u.preventDefault(),e.clear());break;case 37:case 39:if(!R&&!g){u.preventDefault();var F=o();if(e.daysContainer!==void 0&&(b===!1||F&&ft(F))){var $=u.keyCode===39?1:-1;u.ctrlKey?(u.stopPropagation(),ve($),P(D(1),0)):P(void 0,$)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:u.preventDefault();var T=u.keyCode===40?1:-1;e.daysContainer&&f.$i!==void 0||f===e.input||f===e.altInput?u.ctrlKey?(u.stopPropagation(),dt(e.currentYear-T),P(D(1),0)):R||P(void 0,T*7):f===e.currentYearElement?dt(e.currentYear-T):e.config.enableTime&&(!R&&e.hourElement&&e.hourElement.focus(),l(u),e._debouncedChange());break;case 9:if(R){var M=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(de){return de}),B=M.indexOf(f);if(B!==-1){var _e=M[B+(u.shiftKey?-1:1)];u.preventDefault(),(_e||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(f)&&u.shiftKey&&(u.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&f===e.amPM)switch(u.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],p(),De();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],p(),De();break}(g||Ie(f))&&Y("onKeyDown",u)}function pt(u,f){if(f===void 0&&(f="flatpickr-day"),!(e.selectedDates.length!==1||u&&(!u.classList.contains(f)||u.classList.contains("flatpickr-disabled")))){for(var g=u?u.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),b=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),E=Math.min(g,e.selectedDates[0].getTime()),k=Math.max(g,e.selectedDates[0].getTime()),R=!1,F=0,$=0,T=E;T<k;T+=ql.DAY)Me(new Date(T),!0)||(R=R||T>E&&T<k,T<b&&(!F||T>F)?F=T:T>b&&(!$||T<$)&&($=T));var M=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+f));M.forEach(function(B){var _e=B.dateObj,de=_e.getTime(),et=F>0&&de<F||$>0&&de>$;if(et){B.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Ve){B.classList.remove(Ve)});return}else if(R&&!et)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Ve){B.classList.remove(Ve)}),u!==void 0&&(u.classList.add(g<=e.selectedDates[0].getTime()?"startRange":"endRange"),b<g&&de===b?B.classList.add("startRange"):b>g&&de===b&&B.classList.add("endRange"),de>=F&&($===0||de<=$)&&jl(de,b,g)&&B.classList.add("inRange"))})}}function Pi(){e.isOpen&&!e.config.static&&!e.config.inline&&ht()}function Ni(u,f){if(f===void 0&&(f=e._positionElement),e.isMobile===!0){if(u){u.preventDefault();var g=pe(u);g&&g.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),Y("onOpen");return}else if(e._input.disabled||e.config.inline)return;var b=e.isOpen;e.isOpen=!0,b||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),Y("onOpen"),ht(f)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(u===void 0||!e.timeContainer.contains(u.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function Hn(u){return function(f){var g=e.config["_"+u+"Date"]=e.parseDate(f,e.config.dateFormat),b=e.config["_"+(u==="min"?"max":"min")+"Date"];g!==void 0&&(e[u==="min"?"minDateHasTime":"maxDateHasTime"]=g.getHours()>0||g.getMinutes()>0||g.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(E){return Me(E)}),!e.selectedDates.length&&u==="min"&&m(g),De()),e.daysContainer&&(qn(),g!==void 0?e.currentYearElement[u]=g.getFullYear().toString():e.currentYearElement.removeAttribute(u),e.currentYearElement.disabled=!!b&&g!==void 0&&b.getFullYear()===g.getFullYear())}}function Ri(){var u=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],f=ee(ee({},JSON.parse(JSON.stringify(n.dataset||{}))),t),g={};e.config.parseDate=f.parseDate,e.config.formatDate=f.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(M){e.config._enable=Yn(M)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(M){e.config._disable=Yn(M)}});var b=f.mode==="time";if(!f.dateFormat&&(f.enableTime||b)){var E=Q.defaultConfig.dateFormat||Ke.dateFormat;g.dateFormat=f.noCalendar||b?"H:i"+(f.enableSeconds?":S":""):E+" H:i"+(f.enableSeconds?":S":"")}if(f.altInput&&(f.enableTime||b)&&!f.altFormat){var k=Q.defaultConfig.altFormat||Ke.altFormat;g.altFormat=f.noCalendar||b?"h:i"+(f.enableSeconds?":S K":" K"):k+(" h:i"+(f.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:Hn("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:Hn("max")});var R=function(M){return function(B){e.config[M==="min"?"_minTime":"_maxTime"]=e.parseDate(B,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:R("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:R("max")}),f.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,g,f);for(var F=0;F<u.length;F++)e.config[u[F]]=e.config[u[F]]===!0||e.config[u[F]]==="true";fn.filter(function(M){return e.config[M]!==void 0}).forEach(function(M){e.config[M]=pn(e.config[M]||[]).map(s)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var F=0;F<e.config.plugins.length;F++){var $=e.config.plugins[F](e)||{};for(var T in $)fn.indexOf(T)>-1?e.config[T]=pn($[T]).map(s).concat(e.config[T]):typeof f[T]>"u"&&(e.config[T]=$[T])}f.altInputClass||(e.config.altInputClass=jn().className+" "+e.config.altInputClass),Y("onParseConfig")}function jn(){return e.config.wrap?n.querySelector("[data-input]"):n}function Bn(){typeof e.config.locale!="object"&&typeof Q.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=ee(ee({},Q.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?Q.l10ns[e.config.locale]:void 0),$e.D="("+e.l10n.weekdays.shorthand.join("|")+")",$e.l="("+e.l10n.weekdays.longhand.join("|")+")",$e.M="("+e.l10n.months.shorthand.join("|")+")",$e.F="("+e.l10n.months.longhand.join("|")+")",$e.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var u=ee(ee({},t),JSON.parse(JSON.stringify(n.dataset||{})));u.time_24hr===void 0&&Q.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Ai(e),e.parseDate=In({config:e.config,l10n:e.l10n})}function ht(u){if(typeof e.config.position=="function")return void e.config.position(e,u);if(e.calendarContainer!==void 0){Y("onPreCalendarPosition");var f=u||e._positionElement,g=Array.prototype.reduce.call(e.calendarContainer.children,(function(ns,rs){return ns+rs.offsetHeight}),0),b=e.calendarContainer.offsetWidth,E=e.config.position.split(" "),k=E[0],R=E.length>1?E[1]:null,F=f.getBoundingClientRect(),$=window.innerHeight-F.bottom,T=k==="above"||k!=="below"&&$<g&&F.top>g,M=window.pageYOffset+F.top+(T?-g-2:f.offsetHeight+2);if(re(e.calendarContainer,"arrowTop",!T),re(e.calendarContainer,"arrowBottom",T),!e.config.inline){var B=window.pageXOffset+F.left,_e=!1,de=!1;R==="center"?(B-=(b-F.width)/2,_e=!0):R==="right"&&(B-=b-F.width,de=!0),re(e.calendarContainer,"arrowLeft",!_e&&!de),re(e.calendarContainer,"arrowCenter",_e),re(e.calendarContainer,"arrowRight",de);var et=window.document.body.offsetWidth-(window.pageXOffset+F.right),Ve=B+b>window.document.body.offsetWidth,Ji=et+b>window.document.body.offsetWidth;if(re(e.calendarContainer,"rightMost",Ve),!e.config.static)if(e.calendarContainer.style.top=M+"px",!Ve)e.calendarContainer.style.left=B+"px",e.calendarContainer.style.right="auto";else if(!Ji)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=et+"px";else{var en=$i();if(en===void 0)return;var Gi=window.document.body.offsetWidth,Qi=Math.max(0,Gi/2-b/2),Xi=".flatpickr-calendar.centerMost:before",Zi=".flatpickr-calendar.centerMost:after",es=en.cssRules.length,ts="{left:"+F.left+"px;right:auto;}";re(e.calendarContainer,"rightMost",!1),re(e.calendarContainer,"centerMost",!0),en.insertRule(Xi+","+Zi+ts,es),e.calendarContainer.style.left=Qi+"px",e.calendarContainer.style.right="auto"}}}}function $i(){for(var u=null,f=0;f<document.styleSheets.length;f++){var g=document.styleSheets[f];if(g.cssRules){try{g.cssRules}catch{continue}u=g;break}}return u??Hi()}function Hi(){var u=document.createElement("style");return document.head.appendChild(u),u.sheet}function qn(){e.config.noCalendar||e.isMobile||(z(),mt(),G())}function Gt(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Vn(u){u.preventDefault(),u.stopPropagation();var f=function(M){return M.classList&&M.classList.contains("flatpickr-day")&&!M.classList.contains("flatpickr-disabled")&&!M.classList.contains("notAllowed")},g=Ei(pe(u),f);if(g!==void 0){var b=g,E=e.latestSelectedDateObj=new Date(b.dateObj.getTime()),k=(E.getMonth()<e.currentMonth||E.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=b,e.config.mode==="single")e.selectedDates=[E];else if(e.config.mode==="multiple"){var R=Xt(E);R?e.selectedDates.splice(parseInt(R),1):e.selectedDates.push(E)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=E,e.selectedDates.push(E),ge(E,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(M,B){return M.getTime()-B.getTime()}));if(p(),k){var F=e.currentYear!==E.getFullYear();e.currentYear=E.getFullYear(),e.currentMonth=E.getMonth(),F&&(Y("onYearChange"),z()),Y("onMonthChange")}if(mt(),G(),De(),!k&&e.config.mode!=="range"&&e.config.showMonths===1?C(b):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var $=e.config.mode==="single"&&!e.config.enableTime,T=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;($||T)&&Gt()}O()}}var gt={locale:[Bn,Xe],showMonths:[xe,a,be],minDate:[w],maxDate:[w],positionElement:[zn],clickOpens:[function(){e.config.clickOpens===!0?(v(e._input,"focus",e.open),v(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function ji(u,f){if(u!==null&&typeof u=="object"){Object.assign(e.config,u);for(var g in u)gt[g]!==void 0&&gt[g].forEach(function(b){return b()})}else e.config[u]=f,gt[u]!==void 0?gt[u].forEach(function(b){return b()}):fn.indexOf(u)>-1&&(e.config[u]=pn(f));e.redraw(),De(!0)}function Un(u,f){var g=[];if(u instanceof Array)g=u.map(function(b){return e.parseDate(b,f)});else if(u instanceof Date||typeof u=="number")g=[e.parseDate(u,f)];else if(typeof u=="string")switch(e.config.mode){case"single":case"time":g=[e.parseDate(u,f)];break;case"multiple":g=u.split(e.config.conjunction).map(function(b){return e.parseDate(b,f)});break;case"range":g=u.split(e.l10n.rangeSeparator).map(function(b){return e.parseDate(b,f)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(u)));e.selectedDates=e.config.allowInvalidPreload?g:g.filter(function(b){return b instanceof Date&&Me(b,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(b,E){return b.getTime()-E.getTime()})}function Bi(u,f,g){if(f===void 0&&(f=!1),g===void 0&&(g=e.config.dateFormat),u!==0&&!u||u instanceof Array&&u.length===0)return e.clear(f);Un(u,g),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),w(void 0,f),m(),e.selectedDates.length===0&&e.clear(!1),De(f),f&&Y("onChange")}function Yn(u){return u.slice().map(function(f){return typeof f=="string"||typeof f=="number"||f instanceof Date?e.parseDate(f,void 0,!0):f&&typeof f=="object"&&f.from&&f.to?{from:e.parseDate(f.from,void 0),to:e.parseDate(f.to,void 0)}:f}).filter(function(f){return f})}function qi(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var u=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);u&&Un(u,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function Vi(){if(e.input=jn(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=H(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),zn()}function zn(){e._positionElement=e.config.positionElement||e._input}function Ui(){var u=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=H("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=u,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=u==="datetime-local"?"Y-m-d\\TH:i:S":u==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}v(e.mobileInput,"change",function(f){e.setDate(pe(f).value,!1,e.mobileFormatStr),Y("onChange"),Y("onClose")})}function Yi(u){if(e.isOpen===!0)return e.close();e.open(u)}function Y(u,f){if(e.config!==void 0){var g=e.config[u];if(g!==void 0&&g.length>0)for(var b=0;g[b]&&b<g.length;b++)g[b](e.selectedDates,e.input.value,e,f);u==="onChange"&&(e.input.dispatchEvent(Qt("change")),e.input.dispatchEvent(Qt("input")))}}function Qt(u){var f=document.createEvent("Event");return f.initEvent(u,!0,!0),f}function Xt(u){for(var f=0;f<e.selectedDates.length;f++){var g=e.selectedDates[f];if(g instanceof Date&&ge(g,u)===0)return""+f}return!1}function zi(u){return e.config.mode!=="range"||e.selectedDates.length<2?!1:ge(u,e.selectedDates[0])>=0&&ge(u,e.selectedDates[1])<=0}function mt(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(u,f){var g=new Date(e.currentYear,e.currentMonth,1);g.setMonth(e.currentMonth+f),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[f].textContent=Rt(g.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=g.getMonth().toString(),u.value=g.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Zt(u){var f=u||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(g){return e.formatDate(g,f)}).filter(function(g,b,E){return e.config.mode!=="range"||e.config.enableTime||E.indexOf(g)===b}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function De(u){u===void 0&&(u=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Zt(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Zt(e.config.altFormat)),u!==!1&&Y("onValueUpdate")}function Ki(u){var f=pe(u),g=e.prevMonthNav.contains(f),b=e.nextMonthNav.contains(f);g||b?ve(g?-1:1):e.yearElements.indexOf(f)>=0?f.select():f.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):f.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function Wi(u){u.preventDefault();var f=u.type==="keydown",g=pe(u),b=g;e.amPM!==void 0&&g===e.amPM&&(e.amPM.textContent=e.l10n.amPM[ye(e.amPM.textContent===e.l10n.amPM[0])]);var E=parseFloat(b.getAttribute("min")),k=parseFloat(b.getAttribute("max")),R=parseFloat(b.getAttribute("step")),F=parseInt(b.value,10),$=u.delta||(f?u.which===38?1:-1:0),T=F+R*$;if(typeof b.value<"u"&&b.value.length===2){var M=b===e.hourElement,B=b===e.minuteElement;T<E?(T=k+T+ye(!M)+(ye(M)&&ye(!e.amPM)),B&&L(void 0,-1,e.hourElement)):T>k&&(T=b===e.hourElement?T-k-ye(!e.amPM):E,B&&L(void 0,1,e.hourElement)),e.amPM&&M&&(R===1?T+F===23:Math.abs(T-F)>R)&&(e.amPM.textContent=e.l10n.amPM[ye(e.amPM.textContent===e.l10n.amPM[0])]),b.value=ae(T)}}return i(),e}function We(n,t){for(var e=Array.prototype.slice.call(n).filter(function(s){return s instanceof HTMLElement}),r=[],i=0;i<e.length;i++){var o=e[i];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=Ul(o,t||{}),r.push(o._flatpickr)}catch(s){console.error(s)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return We(this,n)},HTMLElement.prototype.flatpickr=function(n){return We([this],n)});var Q=function(n,t){return typeof n=="string"?We(window.document.querySelectorAll(n),t):n instanceof Node?We([n],t):We(n,t)};Q.defaultConfig={};Q.l10ns={en:ee({},it),default:ee({},it)};Q.localize=function(n){Q.l10ns.default=ee(ee({},Q.l10ns.default),n)};Q.setDefaults=function(n){Q.defaultConfig=ee(ee({},Q.defaultConfig),n)};Q.parseDate=In({});Q.formatDate=Ai({});Q.compareDates=ge;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return We(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Q);function vn(n,t){n.split(/\s+/).forEach(e=>{t(e)})}class Yl{constructor(){this._events={}}on(t,e){vn(t,r=>{const i=this._events[r]||[];i.push(e),this._events[r]=i})}off(t,e){var r=arguments.length;if(r===0){this._events={};return}vn(t,i=>{if(r===1){delete this._events[i];return}const o=this._events[i];o!==void 0&&(o.splice(o.indexOf(e),1),this._events[i]=o)})}trigger(t,...e){var r=this;vn(t,i=>{const o=r._events[i];o!==void 0&&o.forEach(s=>{s.apply(r,e)})})}}function zl(n){return n.plugins={},class extends n{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,e){n.plugins[t]={name:t,fn:e}}initializePlugins(t){var e,r;const i=this,o=[];if(Array.isArray(t))t.forEach(s=>{typeof s=="string"?o.push(s):(i.plugins.settings[s.name]=s.options,o.push(s.name))});else if(t)for(e in t)t.hasOwnProperty(e)&&(i.plugins.settings[e]=t[e],o.push(e));for(;r=o.shift();)i.require(r)}loadPlugin(t){var e=this,r=e.plugins,i=n.plugins[t];if(!n.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=i.fn.apply(e,[e.plugins.settings[t]||{}]),r.names.push(t)}require(t){var e=this,r=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(r.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return r.loaded[t]}}}const Kt=n=>(n=n.filter(Boolean),n.length<2?n[0]||"":Wl(n)==1?"["+n.join("")+"]":"(?:"+n.join("|")+")"),xi=n=>{if(!Kl(n))return n.join("");let t="",e=0;const r=()=>{e>1&&(t+="{"+e+"}")};return n.forEach((i,o)=>{if(i===n[o-1]){e++;return}r(),t+=i,e=1}),r(),t},Di=n=>{let t=Array.from(n);return Kt(t)},Kl=n=>new Set(n).size!==n.length,st=n=>(n+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),Wl=n=>n.reduce((t,e)=>Math.max(t,Jl(e)),0),Jl=n=>Array.from(n).length,ki=n=>{if(n.length===1)return[[n]];let t=[];const e=n.substring(1);return ki(e).forEach(function(i){let o=i.slice(0);o[0]=n.charAt(0)+o[0],t.push(o),o=i.slice(0),o.unshift(n.charAt(0)),t.push(o)}),t},Gl=[[0,65535]],Ql="[̀-ͯ·ʾʼ]";let $t,Ii;const Xl=3,Rn={},kr={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let n in kr){let t=kr[n]||"";for(let e=0;e<t.length;e++){let r=t.substring(e,e+1);Rn[r]=n}}const Zl=new RegExp(Object.keys(Rn).join("|")+"|"+Ql,"gu"),ec=n=>{$t===void 0&&($t=ic(Gl))},Ir=(n,t="NFKD")=>n.normalize(t),Ht=n=>Array.from(n).reduce((t,e)=>t+tc(e),""),tc=n=>(n=Ir(n).toLowerCase().replace(Zl,t=>Rn[t]||""),Ir(n,"NFC"));function*nc(n){for(const[t,e]of n)for(let r=t;r<=e;r++){let i=String.fromCharCode(r),o=Ht(i);o!=i.toLowerCase()&&(o.length>Xl||o.length!=0&&(yield{folded:o,composed:i,code_point:r}))}}const rc=n=>{const t={},e=(r,i)=>{const o=t[r]||new Set,s=new RegExp("^"+Di(o)+"$","iu");i.match(s)||(o.add(st(i)),t[r]=o)};for(let r of nc(n))e(r.folded,r.folded),e(r.folded,r.composed);return t},ic=n=>{const t=rc(n),e={};let r=[];for(let o in t){let s=t[o];s&&(e[o]=Di(s)),o.length>1&&r.push(st(o))}r.sort((o,s)=>s.length-o.length);const i=Kt(r);return Ii=new RegExp("^"+i,"u"),e},sc=(n,t=1)=>{let e=0;return n=n.map(r=>($t[r]&&(e+=r.length),$t[r]||r)),e>=t?xi(n):""},oc=(n,t=1)=>(t=Math.max(t,n.length-1),Kt(ki(n).map(e=>sc(e,t)))),Tr=(n,t=!0)=>{let e=n.length>1?1:0;return Kt(n.map(r=>{let i=[];const o=t?r.length():r.length()-1;for(let s=0;s<o;s++)i.push(oc(r.substrs[s]||"",e));return xi(i)}))},ac=(n,t)=>{for(const e of t){if(e.start!=n.start||e.end!=n.end||e.substrs.join("")!==n.substrs.join(""))continue;let r=n.parts;const i=s=>{for(const a of r){if(a.start===s.start&&a.substr===s.substr)return!1;if(!(s.length==1||a.length==1)&&(s.start<a.start&&s.end>a.start||a.start<s.start&&a.end>s.start))return!0}return!1};if(!(e.parts.filter(i).length>0))return!0}return!1};class jt{parts;substrs;start;end;constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(t){t&&(this.parts.push(t),this.substrs.push(t.substr),this.start=Math.min(t.start,this.start),this.end=Math.max(t.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(t,e){let r=new jt,i=JSON.parse(JSON.stringify(this.parts)),o=i.pop();for(const l of i)r.add(l);let s=e.substr.substring(0,t-o.start),a=s.length;return r.add({start:o.start,end:o.start+a,length:a,substr:s}),r}}const lc=n=>{ec(),n=Ht(n);let t="",e=[new jt];for(let r=0;r<n.length;r++){let o=n.substring(r).match(Ii);const s=n.substring(r,r+1),a=o?o[0]:null;let l=[],c=new Set;for(const d of e){const p=d.last();if(!p||p.length==1||p.end<=r)if(a){const m=a.length;d.add({start:r,end:r+m,length:m,substr:a}),c.add("1")}else d.add({start:r,end:r+1,length:1,substr:s}),c.add("2");else if(a){let m=d.clone(r,p);const A=a.length;m.add({start:r,end:r+A,length:A,substr:a}),l.push(m)}else c.add("3")}if(l.length>0){l=l.sort((d,p)=>d.length()-p.length());for(let d of l)ac(d,e)||e.push(d);continue}if(r>0&&c.size==1&&!c.has("3")){t+=Tr(e,!1);let d=new jt;const p=e[0];p&&d.add(p.last()),e=[d]}}return t+=Tr(e,!0),t},cc=(n,t)=>{if(n)return n[t]},uc=(n,t)=>{if(n){for(var e,r=t.split(".");(e=r.shift())&&(n=n[e]););return n}},yn=(n,t,e)=>{var r,i;return!n||(n=n+"",t.regex==null)||(i=n.search(t.regex),i===-1)?0:(r=t.string.length/n.length,i===0&&(r+=.5),r*e)},bn=(n,t)=>{var e=n[t];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(n[t]=[e])},St=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},dc=(n,t)=>typeof n=="number"&&typeof t=="number"?n>t?1:n<t?-1:0:(n=Ht(n+"").toLowerCase(),t=Ht(t+"").toLowerCase(),n>t?1:t>n?-1:0);class fc{items;settings;constructor(t,e){this.items=t,this.settings=e||{diacritics:!0}}tokenize(t,e,r){if(!t||!t.length)return[];const i=[],o=t.split(/\s+/);var s;return r&&(s=new RegExp("^("+Object.keys(r).map(st).join("|")+"):(.*)$")),o.forEach(a=>{let l,c=null,d=null;s&&(l=a.match(s))&&(c=l[1],a=l[2]),a.length>0&&(this.settings.diacritics?d=lc(a)||null:d=st(a),d&&e&&(d="\\b"+d)),i.push({string:a,regex:d?new RegExp(d,"iu"):null,field:c})}),i}getScoreFunction(t,e){var r=this.prepareSearch(t,e);return this._getScoreFunction(r)}_getScoreFunction(t){const e=t.tokens,r=e.length;if(!r)return function(){return 0};const i=t.options.fields,o=t.weights,s=i.length,a=t.getAttrFn;if(!s)return function(){return 1};const l=(function(){return s===1?function(c,d){const p=i[0].field;return yn(a(d,p),c,o[p]||1)}:function(c,d){var p=0;if(c.field){const m=a(d,c.field);!c.regex&&m?p+=1/s:p+=yn(m,c,1)}else St(o,(m,A)=>{p+=yn(a(d,A),c,m)});return p/s}})();return r===1?function(c){return l(e[0],c)}:t.options.conjunction==="and"?function(c){var d,p=0;for(let m of e){if(d=l(m,c),d<=0)return 0;p+=d}return p/r}:function(c){var d=0;return St(e,p=>{d+=l(p,c)}),d/r}}getSortFunction(t,e){var r=this.prepareSearch(t,e);return this._getSortFunction(r)}_getSortFunction(t){var e,r=[];const i=this,o=t.options,s=!t.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof s=="function")return s.bind(this);const a=function(c,d){return c==="$score"?d.score:t.getAttrFn(i.items[d.id],c)};if(s)for(let c of s)(t.query||c.field!=="$score")&&r.push(c);if(t.query){e=!0;for(let c of r)if(c.field==="$score"){e=!1;break}e&&r.unshift({field:"$score",direction:"desc"})}else r=r.filter(c=>c.field!=="$score");return r.length?function(c,d){var p,m;for(let A of r)if(m=A.field,p=(A.direction==="desc"?-1:1)*dc(a(m,c),a(m,d)),p)return p;return 0}:null}prepareSearch(t,e){const r={};var i=Object.assign({},e);if(bn(i,"sort"),bn(i,"sort_empty"),i.fields){bn(i,"fields");const o=[];i.fields.forEach(s=>{typeof s=="string"&&(s={field:s,weight:1}),o.push(s),r[s.field]="weight"in s?s.weight:1}),i.fields=o}return{options:i,query:t.toLowerCase().trim(),tokens:this.tokenize(t,i.respect_word_boundaries,r),total:0,items:[],weights:r,getAttrFn:i.nesting?uc:cc}}search(t,e){var r=this,i,o;o=this.prepareSearch(t,e),e=o.options,t=o.query;const s=e.score||r._getScoreFunction(o);t.length?St(r.items,(l,c)=>{i=s(l),(e.filter===!1||i>0)&&o.items.push({score:i,id:c})}):St(r.items,(l,c)=>{o.items.push({score:1,id:c})});const a=r._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof e.limit=="number"&&(o.items=o.items.slice(0,e.limit)),o}}const Oe=n=>typeof n>"u"||n===null?null:Ft(n),Ft=n=>typeof n=="boolean"?n?"1":"0":n+"",wn=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),pc=(n,t)=>t>0?window.setTimeout(n,t):(n.call(null),null),hc=(n,t)=>{var e;return function(r,i){var o=this;e&&(o.loading=Math.max(o.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,o.loadedSearches[r]=!0,n.call(o,r,i)},t)}},Fr=(n,t,e)=>{var r,i=n.trigger,o={};n.trigger=function(){var s=arguments[0];if(t.indexOf(s)!==-1)o[s]=arguments;else return i.apply(n,arguments)},e.apply(n,[]),n.trigger=i;for(r of t)r in o&&i.apply(n,o[r])},gc=n=>({start:n.selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)}),K=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},ie=(n,t,e,r)=>{n.addEventListener(t,e,r)},Ne=(n,t)=>{if(!t||!t[n])return!1;var e=(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0);return e===1},On=(n,t)=>{const e=n.getAttribute("id");return e||(n.setAttribute("id",t),t)},Mr=n=>n.replace(/[\\"']/g,"\\$&"),Re=(n,t)=>{t&&n.append(t)},Z=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Ae=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Ti(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Ti=n=>typeof n=="string"&&n.indexOf("<")>-1,mc=n=>n.replace(/['"\\]/g,"\\$&"),Cn=(n,t)=>{var e=document.createEvent("HTMLEvents");e.initEvent(t,!0,!1),n.dispatchEvent(e)},Et=(n,t)=>{Object.assign(n.style,t)},he=(n,...t)=>{var e=Fi(t);n=Mi(n),n.map(r=>{e.map(i=>{r.classList.add(i)})})},Fe=(n,...t)=>{var e=Fi(t);n=Mi(n),n.map(r=>{e.map(i=>{r.classList.remove(i)})})},Fi=n=>{var t=[];return Z(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Mi=n=>(Array.isArray(n)||(n=[n]),n),_n=(n,t,e)=>{if(!(e&&!e.contains(n)))for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},Lr=(n,t=0)=>t>0?n[n.length-1]:n[0],vc=n=>Object.keys(n).length===0,Pr=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e},U=(n,t)=>{Z(t,(e,r)=>{e==null?n.removeAttribute(r):n.setAttribute(r,""+e)})},Tn=(n,t)=>{n.parentNode&&n.parentNode.replaceChild(t,n)},yc=(n,t)=>{if(t===null)return;if(typeof t=="string"){if(!t.length)return;t=new RegExp(t,"i")}const e=o=>{var s=o.data.match(t);if(s&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var l=o.splitText(s.index);l.splitText(s[0].length);var c=l.cloneNode(!0);return a.appendChild(c),Tn(l,a),1}return 0},r=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(s=>{i(s)})},i=o=>o.nodeType===3?e(o):(r(o),0);i(n)},bc=n=>{var t=n.querySelectorAll("span.highlight");Array.prototype.forEach.call(t,function(e){var r=e.parentNode;r.replaceChild(e.firstChild,e),r.normalize()})},wc=65,Oc=13,Cc=27,_c=37,Sc=38,Ec=39,Ac=40,Nr=8,xc=46,Rr=9,Dc=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),At=Dc?"metaKey":"ctrlKey",$r={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(n){return n.length>0},render:{}};function Hr(n,t){var e=Object.assign({},$r,t),r=e.dataAttr,i=e.labelField,o=e.valueField,s=e.disabledField,a=e.optgroupField,l=e.optgroupLabelField,c=e.optgroupValueField,d=n.tagName.toLowerCase(),p=n.getAttribute("placeholder")||n.getAttribute("data-placeholder");if(!p&&!e.allowEmptyOption){let v=n.querySelector('option[value=""]');v&&(p=v.textContent)}var m={placeholder:p,options:[],optgroups:[],items:[],maxItems:null},A=()=>{var v,O=m.options,S={},w=1;let x=0;var L=C=>{var D=Object.assign({},C.dataset),_=r&&D[r];return typeof _=="string"&&_.length&&(D=Object.assign(D,JSON.parse(_))),D},q=(C,D)=>{var _=Oe(C.value);if(_!=null&&!(!_&&!e.allowEmptyOption)){if(S.hasOwnProperty(_)){if(D){var P=S[_][a];P?Array.isArray(P)?P.push(D):S[_][a]=[P,D]:S[_][a]=D}}else{var I=L(C);I[i]=I[i]||C.textContent,I[o]=I[o]||_,I[s]=I[s]||C.disabled,I[a]=I[a]||D,I.$option=C,I.$order=I.$order||++x,S[_]=I,O.push(I)}C.selected&&m.items.push(_)}},j=C=>{var D,_;_=L(C),_[l]=_[l]||C.getAttribute("label")||"",_[c]=_[c]||w++,_[s]=_[s]||C.disabled,_.$order=_.$order||++x,m.optgroups.push(_),D=_[c],Z(C.children,P=>{q(P,D)})};m.maxItems=n.hasAttribute("multiple")?null:1,Z(n.children,C=>{v=C.tagName.toLowerCase(),v==="optgroup"?j(C):v==="option"&&q(C)})},h=()=>{const v=n.getAttribute(r);if(v)m.options=JSON.parse(v),Z(m.options,S=>{m.items.push(S[o])});else{var O=n.value.trim()||"";if(!e.allowEmptyOption&&!O.length)return;const S=O.split(e.delimiter);Z(S,w=>{const x={};x[i]=w,x[o]=w,m.options.push(x)}),m.items=S}};return d==="select"?A():h(),Object.assign({},$r,m,t)}var jr=0;class oe extends zl(Yl){constructor(t,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,jr++;var r,i=Ae(t);if(i.tomselect)throw new Error("Tom Select already initialized on this element");i.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(i,null);r=o.getPropertyValue("direction");const s=Hr(i,e);this.settings=s,this.input=i,this.tabIndex=i.tabIndex||0,this.is_select_tag=i.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(r),this.inputId=On(i,"tomselect-"+jr),this.isRequired=i.required,this.sifter=new fc(this.options,{diacritics:s.diacritics}),s.mode=s.mode||(s.maxItems===1?"single":"multi"),typeof s.hideSelected!="boolean"&&(s.hideSelected=s.mode==="multi"),typeof s.hidePlaceholder!="boolean"&&(s.hidePlaceholder=s.mode!=="multi");var a=s.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?s.createFilter=O=>a.test(O):s.createFilter=O=>this.settings.duplicates||!this.options[O]),this.initializePlugins(s.plugins),this.setupCallbacks(),this.setupTemplates();const l=Ae("<div>"),c=Ae("<div>"),d=this._render("dropdown"),p=Ae('<div role="listbox" tabindex="-1">'),m=this.input.getAttribute("class")||"",A=s.mode;var h;if(he(l,s.wrapperClass,m,A),he(c,s.controlClass),Re(l,c),he(d,s.dropdownClass,A),s.copyClassesToDropdown&&he(d,m),he(p,s.dropdownContentClass),Re(d,p),Ae(s.dropdownParent||l).appendChild(d),Ti(s.controlInput)){h=Ae(s.controlInput);var v=["autocorrect","autocapitalize","autocomplete","spellcheck"];Z(v,O=>{i.getAttribute(O)&&U(h,{[O]:i.getAttribute(O)})}),h.tabIndex=-1,c.appendChild(h),this.focus_node=h}else s.controlInput?(h=Ae(s.controlInput),this.focus_node=h):(h=Ae("<input/>"),this.focus_node=c);this.wrapper=l,this.dropdown=d,this.dropdown_content=p,this.control=c,this.control_input=h,this.setup()}setup(){const t=this,e=t.settings,r=t.control_input,i=t.dropdown,o=t.dropdown_content,s=t.wrapper,a=t.control,l=t.input,c=t.focus_node,d={passive:!0},p=t.inputId+"-ts-dropdown";U(o,{id:p}),U(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":p});const m=On(c,t.inputId+"-ts-control"),A="label[for='"+mc(t.inputId)+"']",h=document.querySelector(A),v=t.focus.bind(t);if(h){ie(h,"click",v),U(h,{for:m});const w=On(h,t.inputId+"-ts-label");U(c,{"aria-labelledby":w}),U(o,{"aria-labelledby":w})}if(s.style.width=l.style.width,t.plugins.names.length){const w="plugin-"+t.plugins.names.join(" plugin-");he([s,i],w)}(e.maxItems===null||e.maxItems>1)&&t.is_select_tag&&U(l,{multiple:"multiple"}),e.placeholder&&U(r,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+st(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=hc(e.load,e.loadThrottle)),ie(i,"mousemove",()=>{t.ignoreHover=!1}),ie(i,"mouseenter",w=>{var x=_n(w.target,"[data-selectable]",i);x&&t.onOptionHover(w,x)},{capture:!0}),ie(i,"click",w=>{const x=_n(w.target,"[data-selectable]");x&&(t.onOptionSelect(w,x),K(w,!0))}),ie(a,"click",w=>{var x=_n(w.target,"[data-ts-item]",a);if(x&&t.onItemSelect(w,x)){K(w,!0);return}r.value==""&&(t.onClick(),K(w,!0))}),ie(c,"keydown",w=>t.onKeyDown(w)),ie(r,"keypress",w=>t.onKeyPress(w)),ie(r,"input",w=>t.onInput(w)),ie(c,"blur",w=>t.onBlur(w)),ie(c,"focus",w=>t.onFocus(w)),ie(r,"paste",w=>t.onPaste(w));const O=w=>{const x=w.composedPath()[0];if(!s.contains(x)&&!i.contains(x)){t.isFocused&&t.blur(),t.inputState();return}x==r&&t.isOpen?w.stopPropagation():K(w,!0)},S=()=>{t.isOpen&&t.positionDropdown()};ie(document,"mousedown",O),ie(window,"scroll",S,d),ie(window,"resize",S,d),this._destroy=()=>{document.removeEventListener("mousedown",O),window.removeEventListener("scroll",S),window.removeEventListener("resize",S),h&&h.removeEventListener("click",v)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",t.wrapper),t.sync(!1),e.items=[],delete e.optgroups,delete e.options,ie(l,"invalid",()=>{t.isValid&&(t.isValid=!1,t.isInvalid=!0,t.refreshState())}),t.updateOriginalInput(),t.refreshItems(),t.close(!1),t.inputState(),t.isSetup=!0,l.disabled?t.disable():l.readOnly?t.setReadOnly(!0):t.enable(),t.on("change",this.onChange),he(l,"tomselected","ts-hidden-accessible"),t.trigger("initialize"),e.preload===!0&&t.preload()}setupOptions(t=[],e=[]){this.addOptions(t),Z(e,r=>{this.registerOptionGroup(r)})}setupTemplates(){var t=this,e=t.settings.labelField,r=t.settings.optgroupLabelField,i={optgroup:o=>{let s=document.createElement("div");return s.className="optgroup",s.appendChild(o.options),s},optgroup_header:(o,s)=>'<div class="optgroup-header">'+s(o[r])+"</div>",option:(o,s)=>"<div>"+s(o[e])+"</div>",item:(o,s)=>"<div>"+s(o[e])+"</div>",option_create:(o,s)=>'<div class="create">Add <strong>'+s(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};t.settings.render=Object.assign({},i,t.settings.render)}setupCallbacks(){var t,e,r={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in r)e=this.settings[r[t]],e&&this.on(t,e)}sync(t=!0){const e=this,r=t?Hr(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(r.options,r.optgroups),e.setValue(r.items||[],!0),e.lastQuery=null}onClick(){var t=this;if(t.activeItems.length>0){t.clearActiveItems(),t.focus();return}t.isFocused&&t.isOpen?t.blur():t.focus()}onMouseDown(){}onChange(){Cn(this.input,"input"),Cn(this.input,"change")}onPaste(t){var e=this;if(e.isInputHidden||e.isLocked){K(t);return}e.settings.splitOn&&setTimeout(()=>{var r=e.inputValue();if(r.match(e.settings.splitOn)){var i=r.trim().split(e.settings.splitOn);Z(i,o=>{Oe(o)&&(this.options[o]?e.addItem(o):e.createItem(o))})}},0)}onKeyPress(t){var e=this;if(e.isLocked){K(t);return}var r=String.fromCharCode(t.keyCode||t.which);if(e.settings.create&&e.settings.mode==="multi"&&r===e.settings.delimiter){e.createItem(),K(t);return}}onKeyDown(t){var e=this;if(e.ignoreHover=!0,e.isLocked){t.keyCode!==Rr&&K(t);return}switch(t.keyCode){case wc:if(Ne(At,t)&&e.control_input.value==""){K(t),e.selectAll();return}break;case Cc:e.isOpen&&(K(t,!0),e.close()),e.clearActiveItems();return;case Ac:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let r=e.getAdjacent(e.activeOption,1);r&&e.setActiveOption(r)}K(t);return;case Sc:if(e.activeOption){let r=e.getAdjacent(e.activeOption,-1);r&&e.setActiveOption(r)}K(t);return;case Oc:e.canSelect(e.activeOption)?(e.onOptionSelect(t,e.activeOption),K(t)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&K(t);return;case _c:e.advanceSelection(-1,t);return;case Ec:e.advanceSelection(1,t);return;case Rr:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(t,e.activeOption),K(t)),e.settings.create&&e.createItem()&&K(t));return;case Nr:case xc:e.deleteSelection(t);return}e.isInputHidden&&!Ne(At,t)&&K(t)}onInput(t){if(this.isLocked)return;const e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=pc(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const t=this.lastValue;this.settings.shouldLoad.call(this,t)&&this.load(t),this.refreshOptions(),this.trigger("type",t)}onOptionHover(t,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(t){var e=this,r=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),K(t);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),r||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(t){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var r=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,r):r()}}}onOptionSelect(t,e){var r,i=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?i.createItem(null,()=>{i.settings.closeAfterSelect&&i.close()}):(r=e.dataset.value,typeof r<"u"&&(i.lastQuery=null,i.addItem(r),i.settings.closeAfterSelect&&i.close(),!i.settings.hideSelected&&t.type&&/click/.test(t.type)&&i.setActiveOption(e))))}canSelect(t){return!!(this.isOpen&&t&&this.dropdown_content.contains(t))}onItemSelect(t,e){var r=this;return!r.isLocked&&r.settings.mode==="multi"?(K(t),r.setActiveItem(e,t),!0):!1}canLoad(t){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(t))}load(t){const e=this;if(!e.canLoad(t))return;he(e.wrapper,e.settings.loadingClass),e.loading++;const r=e.loadCallback.bind(e);e.settings.load.call(e,t,r)}loadCallback(t,e){const r=this;r.loading=Math.max(r.loading-1,0),r.lastQuery=null,r.clearActiveOption(),r.setupOptions(t,e),r.refreshOptions(r.isFocused&&!r.isInputHidden),r.loading||Fe(r.wrapper,r.settings.loadingClass),r.trigger("load",t,e)}preload(){var t=this.wrapper.classList;t.contains("preloaded")||(t.add("preloaded"),this.load(""))}setTextboxValue(t=""){var e=this.control_input,r=e.value!==t;r&&(e.value=t,Cn(e,"update"),this.lastValue=t)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(t,e){var r=e?[]:["change"];Fr(this,r,()=>{this.clear(e),this.addItems(t,e)})}setMaxItems(t){t===0&&(t=null),this.settings.maxItems=t,this.refreshState()}setActiveItem(t,e){var r=this,i,o,s,a,l,c;if(r.settings.mode!=="single"){if(!t){r.clearActiveItems(),r.isFocused&&r.inputState();return}if(i=e&&e.type.toLowerCase(),i==="click"&&Ne("shiftKey",e)&&r.activeItems.length){for(c=r.getLastActive(),s=Array.prototype.indexOf.call(r.control.children,c),a=Array.prototype.indexOf.call(r.control.children,t),s>a&&(l=s,s=a,a=l),o=s;o<=a;o++)t=r.control.children[o],r.activeItems.indexOf(t)===-1&&r.setActiveItemClass(t);K(e)}else i==="click"&&Ne(At,e)||i==="keydown"&&Ne("shiftKey",e)?t.classList.contains("active")?r.removeActiveItem(t):r.setActiveItemClass(t):(r.clearActiveItems(),r.setActiveItemClass(t));r.inputState(),r.isFocused||r.focus()}}setActiveItemClass(t){const e=this,r=e.control.querySelector(".last-active");r&&Fe(r,"last-active"),he(t,"active last-active"),e.trigger("item_select",t),e.activeItems.indexOf(t)==-1&&e.activeItems.push(t)}removeActiveItem(t){var e=this.activeItems.indexOf(t);this.activeItems.splice(e,1),Fe(t,"active")}clearActiveItems(){Fe(this.activeItems,"active"),this.activeItems=[]}setActiveOption(t,e=!0){t!==this.activeOption&&(this.clearActiveOption(),t&&(this.activeOption=t,U(this.focus_node,{"aria-activedescendant":t.getAttribute("id")}),U(t,{"aria-selected":"true"}),he(t,"active"),e&&this.scrollToOption(t)))}scrollToOption(t,e){if(!t)return;const r=this.dropdown_content,i=r.clientHeight,o=r.scrollTop||0,s=t.offsetHeight,a=t.getBoundingClientRect().top-r.getBoundingClientRect().top+o;a+s>i+o?this.scroll(a-i+s,e):a<o&&this.scroll(a,e)}scroll(t,e){const r=this.dropdown_content;e&&(r.style.scrollBehavior=e),r.scrollTop=t,r.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Fe(this.activeOption,"active"),U(this.activeOption,{"aria-selected":null})),this.activeOption=null,U(this.focus_node,{"aria-activedescendant":null})}selectAll(){const t=this;if(t.settings.mode==="single")return;const e=t.controlChildren();e.length&&(t.inputState(),t.close(),t.activeItems=e,Z(e,r=>{t.setActiveItemClass(r)}))}inputState(){var t=this;t.control.contains(t.control_input)&&(U(t.control_input,{placeholder:t.settings.placeholder}),t.activeItems.length>0||!t.isFocused&&t.settings.hidePlaceholder&&t.items.length>0?(t.setTextboxValue(),t.isInputHidden=!0):(t.settings.hidePlaceholder&&t.items.length>0&&U(t.control_input,{placeholder:""}),t.isInputHidden=!1),t.wrapper.classList.toggle("input-hidden",t.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var t=this;t.isDisabled||t.isReadOnly||(t.ignoreFocus=!0,t.control_input.offsetWidth?t.control_input.focus():t.focus_node.focus(),setTimeout(()=>{t.ignoreFocus=!1,t.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())}getSearchOptions(){var t=this.settings,e=t.sortField;return typeof t.sortField=="string"&&(e=[{field:t.sortField}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}}search(t){var e,r,i=this,o=this.getSearchOptions();if(i.settings.score&&(r=i.settings.score.call(i,t),typeof r!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return t!==i.lastQuery?(i.lastQuery=t,e=i.sifter.search(t,Object.assign(o,{score:r})),i.currentResults=e):e=Object.assign({},i.currentResults),i.settings.hideSelected&&(e.items=e.items.filter(s=>{let a=Oe(s.id);return!(a&&i.items.indexOf(a)!==-1)})),e}refreshOptions(t=!0){var e,r,i,o,s,a,l,c,d,p;const m={},A=[];var h=this,v=h.inputValue();const O=v===h.lastQuery||v==""&&h.lastQuery==null;var S=h.search(v),w=null,x=h.settings.shouldOpen||!1,L=h.dropdown_content;O&&(w=h.activeOption,w&&(d=w.closest("[data-group]"))),o=S.items.length,typeof h.settings.maxOptions=="number"&&(o=Math.min(o,h.settings.maxOptions)),o>0&&(x=!0);const q=(C,D)=>{let _=m[C];if(_!==void 0){let I=A[_];if(I!==void 0)return[_,I.fragment]}let P=document.createDocumentFragment();return _=A.length,A.push({fragment:P,order:D,optgroup:C}),[_,P]};for(e=0;e<o;e++){let C=S.items[e];if(!C)continue;let D=C.id,_=h.options[D];if(_===void 0)continue;let P=Ft(D),I=h.getOption(P,!0);for(h.settings.hideSelected||I.classList.toggle("selected",h.items.includes(P)),s=_[h.settings.optgroupField]||"",a=Array.isArray(s)?s:[s],r=0,i=a&&a.length;r<i;r++){s=a[r];let G=_.$order,z=h.optgroups[s];z===void 0?s="":G=z.$order;const[ue,xe]=q(s,G);r>0&&(I=I.cloneNode(!0),U(I,{id:_.$id+"-clone-"+r,"aria-selected":null}),I.classList.add("ts-cloned"),Fe(I,"active"),h.activeOption&&h.activeOption.dataset.value==D&&d&&d.dataset.group===s.toString()&&(w=I)),xe.appendChild(I),s!=""&&(m[s]=ue)}}h.settings.lockOptgroupOrder&&A.sort((C,D)=>C.order-D.order),l=document.createDocumentFragment(),Z(A,C=>{let D=C.fragment,_=C.optgroup;if(!D||!D.children.length)return;let P=h.optgroups[_];if(P!==void 0){let I=document.createDocumentFragment(),G=h.render("optgroup_header",P);Re(I,G),Re(I,D);let z=h.render("optgroup",{group:P,options:I});Re(l,z)}else Re(l,D)}),L.innerHTML="",Re(L,l),h.settings.highlight&&(bc(L),S.query.length&&S.tokens.length&&Z(S.tokens,C=>{yc(L,C.regex)}));var j=C=>{let D=h.render(C,{input:v});return D&&(x=!0,L.insertBefore(D,L.firstChild)),D};if(h.loading?j("loading"):h.settings.shouldLoad.call(h,v)?S.items.length===0&&j("no_results"):j("not_loading"),c=h.canCreate(v),c&&(p=j("option_create")),h.hasOptions=S.items.length>0||c,x){if(S.items.length>0){if(!w&&h.settings.mode==="single"&&h.items[0]!=null&&(w=h.getOption(h.items[0])),!L.contains(w)){let C=0;p&&!h.settings.addPrecedence&&(C=1),w=h.selectable()[C]}}else p&&(w=p);t&&!h.isOpen&&(h.open(),h.scrollToOption(w,"auto")),h.setActiveOption(w)}else h.clearActiveOption(),t&&h.isOpen&&h.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(t,e=!1){const r=this;if(Array.isArray(t))return r.addOptions(t,e),!1;const i=Oe(t[r.settings.valueField]);return i===null||r.options.hasOwnProperty(i)?!1:(t.$order=t.$order||++r.order,t.$id=r.inputId+"-opt-"+t.$order,r.options[i]=t,r.lastQuery=null,e&&(r.userOptions[i]=e,r.trigger("option_add",i,t)),i)}addOptions(t,e=!1){Z(t,r=>{this.addOption(r,e)})}registerOption(t){return this.addOption(t)}registerOptionGroup(t){var e=Oe(t[this.settings.optgroupValueField]);return e===null?!1:(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)}addOptionGroup(t,e){var r;e[this.settings.optgroupValueField]=t,(r=this.registerOptionGroup(e))&&this.trigger("optgroup_add",r,e)}removeOptionGroup(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.clearCache(),this.trigger("optgroup_remove",t))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(t,e){const r=this;var i,o;const s=Oe(t),a=Oe(e[r.settings.valueField]);if(s===null)return;const l=r.options[s];if(l==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const c=r.getOption(s),d=r.getItem(s);if(e.$order=e.$order||l.$order,delete r.options[s],r.uncacheValue(a),r.options[a]=e,c){if(r.dropdown_content.contains(c)){const p=r._render("option",e);Tn(c,p),r.activeOption===c&&r.setActiveOption(p)}c.remove()}d&&(o=r.items.indexOf(s),o!==-1&&r.items.splice(o,1,a),i=r._render("item",e),d.classList.contains("active")&&he(i,"active"),Tn(d,i)),r.lastQuery=null}removeOption(t,e){const r=this;t=Ft(t),r.uncacheValue(t),delete r.userOptions[t],delete r.options[t],r.lastQuery=null,r.trigger("option_remove",t),r.removeItem(t,e)}clearOptions(t){const e=(t||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const r={};Z(this.options,(i,o)=>{e(i,o)&&(r[o]=i)}),this.options=this.sifter.items=r,this.lastQuery=null,this.trigger("option_clear")}clearFilter(t,e){return this.items.indexOf(e)>=0}getOption(t,e=!1){const r=Oe(t);if(r===null)return null;const i=this.options[r];if(i!=null){if(i.$div)return i.$div;if(e)return this._render("option",i)}return null}getAdjacent(t,e,r="option"){var i=this,o;if(!t)return null;r=="item"?o=i.controlChildren():o=i.dropdown_content.querySelectorAll("[data-selectable]");for(let s=0;s<o.length;s++)if(o[s]==t)return e>0?o[s+1]:o[s-1];return null}getItem(t){if(typeof t=="object")return t;var e=Oe(t);return e!==null?this.control.querySelector(`[data-value="${Mr(e)}"]`):null}addItems(t,e){var r=this,i=Array.isArray(t)?t:[t];i=i.filter(s=>r.items.indexOf(s)===-1);const o=i[i.length-1];i.forEach(s=>{r.isPending=s!==o,r.addItem(s,e)})}addItem(t,e){var r=e?[]:["change","dropdown_close"];Fr(this,r,()=>{var i,o;const s=this,a=s.settings.mode,l=Oe(t);if(!(l&&s.items.indexOf(l)!==-1&&(a==="single"&&s.close(),a==="single"||!s.settings.duplicates))&&!(l===null||!s.options.hasOwnProperty(l))&&(a==="single"&&s.clear(e),!(a==="multi"&&s.isFull()))){if(i=s._render("item",s.options[l]),s.control.contains(i)&&(i=i.cloneNode(!0)),o=s.isFull(),s.items.splice(s.caretPos,0,l),s.insertAtCaret(i),s.isSetup){if(!s.isPending&&s.settings.hideSelected){let c=s.getOption(l),d=s.getAdjacent(c,1);d&&s.setActiveOption(d)}!s.isPending&&!s.settings.closeAfterSelect&&s.refreshOptions(s.isFocused&&a!=="single"),s.settings.closeAfterSelect!=!1&&s.isFull()?s.close():s.isPending||s.positionDropdown(),s.trigger("item_add",l,i),s.isPending||s.updateOriginalInput({silent:e})}(!s.isPending||!o&&s.isFull())&&(s.inputState(),s.refreshState())}})}removeItem(t=null,e){const r=this;if(t=r.getItem(t),!t)return;var i,o;const s=t.dataset.value;i=Pr(t),t.remove(),t.classList.contains("active")&&(o=r.activeItems.indexOf(t),r.activeItems.splice(o,1),Fe(t,"active")),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(s)&&r.removeOption(s,e),i<r.caretPos&&r.setCaret(r.caretPos-1),r.updateOriginalInput({silent:e}),r.refreshState(),r.positionDropdown(),r.trigger("item_remove",s,t)}createItem(t=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=()=>{});var r=this,i=r.caretPos,o;if(t=t||r.inputValue(),!r.canCreate(t))return e(),!1;r.lock();var s=!1,a=l=>{if(r.unlock(),!l||typeof l!="object")return e();var c=Oe(l[r.settings.valueField]);if(typeof c!="string")return e();r.setTextboxValue(),r.addOption(l,!0),r.setCaret(i),r.addItem(c),e(l),s=!0};return typeof r.settings.create=="function"?o=r.settings.create.call(this,t,a):o={[r.settings.labelField]:t,[r.settings.valueField]:t},s||a(o),!0}refreshItems(){var t=this;t.lastQuery=null,t.isSetup&&t.addItems(t.items),t.updateOriginalInput(),t.refreshState()}refreshState(){const t=this;t.refreshValidityState();const e=t.isFull(),r=t.isLocked;t.wrapper.classList.toggle("rtl",t.rtl);const i=t.wrapper.classList;i.toggle("focus",t.isFocused),i.toggle("disabled",t.isDisabled),i.toggle("readonly",t.isReadOnly),i.toggle("required",t.isRequired),i.toggle("invalid",!t.isValid),i.toggle("locked",r),i.toggle("full",e),i.toggle("input-active",t.isFocused&&!t.isInputHidden),i.toggle("dropdown-active",t.isOpen),i.toggle("has-options",vc(t.options)),i.toggle("has-items",t.items.length>0)}refreshValidityState(){var t=this;t.input.validity&&(t.isValid=t.input.validity.valid,t.isInvalid=!t.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(t={}){const e=this;var r,i;const o=e.input.querySelector('option[value=""]');if(e.is_select_tag){let c=function(d,p,m){return d||(d=Ae('<option value="'+wn(p)+'">'+wn(m)+"</option>")),d!=o&&e.input.append(d),a.push(d),(d!=o||l>0)&&(d.selected=!0),d};var s=c;const a=[],l=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(d=>{d.selected=!1}),e.items.length==0&&e.settings.mode=="single"?c(o,"",""):e.items.forEach(d=>{if(r=e.options[d],i=r[e.settings.labelField]||"",a.includes(r.$option)){const p=e.input.querySelector(`option[value="${Mr(d)}"]:not(:checked)`);c(p,d,i)}else r.$option=c(r.$option,d,i)})}else e.input.value=e.getValue();e.isSetup&&(t.silent||e.trigger("change",e.getValue()))}open(){var t=this;t.isLocked||t.isOpen||t.settings.mode==="multi"&&t.isFull()||(t.isOpen=!0,U(t.focus_node,{"aria-expanded":"true"}),t.refreshState(),Et(t.dropdown,{visibility:"hidden",display:"block"}),t.positionDropdown(),Et(t.dropdown,{visibility:"visible",display:"block"}),t.focus(),t.trigger("dropdown_open",t.dropdown))}close(t=!0){var e=this,r=e.isOpen;t&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,U(e.focus_node,{"aria-expanded":"false"}),Et(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),r&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var t=this.control,e=t.getBoundingClientRect(),r=t.offsetHeight+e.top+window.scrollY,i=e.left+window.scrollX;Et(this.dropdown,{width:e.width+"px",top:r+"px",left:i+"px"})}}clear(t){var e=this;if(e.items.length){var r=e.controlChildren();Z(r,i=>{e.removeItem(i,!0)}),e.inputState(),t||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(t){const e=this,r=e.caretPos,i=e.control;i.insertBefore(t,i.children[r]||null),e.setCaret(r+1)}deleteSelection(t){var e,r,i,o,s=this;e=t&&t.keyCode===Nr?-1:1,r=gc(s.control_input);const a=[];if(s.activeItems.length)o=Lr(s.activeItems,e),i=Pr(o),e>0&&i++,Z(s.activeItems,l=>a.push(l));else if((s.isFocused||s.settings.mode==="single")&&s.items.length){const l=s.controlChildren();let c;e<0&&r.start===0&&r.length===0?c=l[s.caretPos-1]:e>0&&r.start===s.inputValue().length&&(c=l[s.caretPos]),c!==void 0&&a.push(c)}if(!s.shouldDelete(a,t))return!1;for(K(t,!0),typeof i<"u"&&s.setCaret(i);a.length;)s.removeItem(a.pop());return s.inputState(),s.positionDropdown(),s.refreshOptions(!1),!0}shouldDelete(t,e){const r=t.map(i=>i.dataset.value);return!(!r.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(r,e)===!1)}advanceSelection(t,e){var r,i,o=this;o.rtl&&(t*=-1),!o.inputValue().length&&(Ne(At,e)||Ne("shiftKey",e)?(r=o.getLastActive(t),r?r.classList.contains("active")?i=o.getAdjacent(r,t,"item"):i=r:t>0?i=o.control_input.nextElementSibling:i=o.control_input.previousElementSibling,i&&(i.classList.contains("active")&&o.removeActiveItem(r),o.setActiveItemClass(i))):o.moveCaret(t))}moveCaret(t){}getLastActive(t){let e=this.control.querySelector(".last-active");if(e)return e;var r=this.control.querySelectorAll(".active");if(r)return Lr(r,t)}setCaret(t){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(t=this.isReadOnly||this.isDisabled){this.isLocked=t,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(t){this.focus_node.tabIndex=t?-1:this.tabIndex,this.isDisabled=t,this.input.disabled=t,this.control_input.disabled=t,this.setLocked()}setReadOnly(t){this.isReadOnly=t,this.input.readOnly=t,this.control_input.readOnly=t,this.setLocked()}destroy(){var t=this,e=t.revertSettings;t.trigger("destroy"),t.off(),t.wrapper.remove(),t.dropdown.remove(),t.input.innerHTML=e.innerHTML,t.input.tabIndex=e.tabIndex,Fe(t.input,"tomselected","ts-hidden-accessible"),t._destroy(),delete t.input.tomselect}render(t,e){var r,i;const o=this;if(typeof this.settings.render[t]!="function"||(i=o.settings.render[t].call(this,e,wn),!i))return null;if(i=Ae(i),t==="option"||t==="option_create"?e[o.settings.disabledField]?U(i,{"aria-disabled":"true"}):U(i,{"data-selectable":""}):t==="optgroup"&&(r=e.group[o.settings.optgroupValueField],U(i,{"data-group":r}),e.group[o.settings.disabledField]&&U(i,{"data-disabled":""})),t==="option"||t==="item"){const s=Ft(e[o.settings.valueField]);U(i,{"data-value":s}),t==="item"?(he(i,o.settings.itemClass),U(i,{"data-ts-item":""})):(he(i,o.settings.optionClass),U(i,{role:"option",id:e.$id}),e.$div=i,o.options[s]=e)}return i}_render(t,e){const r=this.render(t,e);if(r==null)throw"HTMLElement expected";return r}clearCache(){Z(this.options,t=>{t.$div&&(t.$div.remove(),delete t.$div)})}uncacheValue(t){const e=this.getOption(t);e&&e.remove()}canCreate(t){return this.settings.create&&t.length>0&&this.settings.createFilter.call(this,t)}hook(t,e,r){var i=this,o=i[e];i[e]=function(){var s,a;return t==="after"&&(s=o.apply(i,arguments)),a=r.apply(i,arguments),t==="instead"?a:(t==="before"&&(s=o.apply(i,arguments)),s)}}}const kc=(n,t,e,r)=>{n.addEventListener(t,e,r)};function Ic(){kc(this.input,"change",()=>{this.sync()})}const Tc=n=>typeof n>"u"||n===null?null:Fc(n),Fc=n=>typeof n=="boolean"?n?"1":"0":n+"",Br=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Mc=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Lc(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Lc=n=>typeof n=="string"&&n.indexOf("<")>-1;function Pc(n){var t=this,e=t.onOptionSelect;t.settings.hideSelected=!1;const r=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},n);var i=function(a,l){l?(a.checked=!0,r.uncheckedClassNames&&a.classList.remove(...r.uncheckedClassNames),r.checkedClassNames&&a.classList.add(...r.checkedClassNames)):(a.checked=!1,r.checkedClassNames&&a.classList.remove(...r.checkedClassNames),r.uncheckedClassNames&&a.classList.add(...r.uncheckedClassNames))},o=function(a){setTimeout(()=>{var l=a.querySelector("input."+r.className);l instanceof HTMLInputElement&&i(l,a.classList.contains("selected"))},1)};t.hook("after","setupTemplates",()=>{var s=t.settings.render.option;t.settings.render.option=(a,l)=>{var c=Mc(s.call(t,a,l)),d=document.createElement("input");r.className&&d.classList.add(r.className),d.addEventListener("click",function(m){Br(m)}),d.type="checkbox";const p=Tc(a[t.settings.valueField]);return i(d,!!(p&&t.items.indexOf(p)>-1)),c.prepend(d),c}}),t.on("item_remove",s=>{var a=t.getOption(s);a&&(a.classList.remove("selected"),o(a))}),t.on("item_add",s=>{var a=t.getOption(s);a&&o(a)}),t.hook("instead","onOptionSelect",(s,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),t.removeItem(a.dataset.value),t.refreshOptions(),Br(s,!0);return}e.call(t,s,a),o(a)})}const Nc=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Rc(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Rc=n=>typeof n=="string"&&n.indexOf("<")>-1;function $c(n){const t=this,e=Object.assign({className:"clear-button",title:"Clear All",html:r=>`<div class="${r.className}" title="${r.title}">&#10799;</div>`},n);t.on("initialize",()=>{var r=Nc(e.html(e));r.addEventListener("click",i=>{t.isLocked||(t.clear(),t.settings.mode==="single"&&t.settings.allowEmptyOption&&t.addItem(""),i.preventDefault(),i.stopPropagation())}),t.control.appendChild(r)})}const Hc=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Ye=(n,t,e,r)=>{n.addEventListener(t,e,r)},jc=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Bc=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(qc(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},qc=n=>typeof n=="string"&&n.indexOf("<")>-1,Vc=(n,t)=>{jc(t,(e,r)=>{e==null?n.removeAttribute(r):n.setAttribute(r,""+e)})},Uc=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n.nextSibling)},Yc=(n,t)=>{var e;(e=n.parentNode)==null||e.insertBefore(t,n)},zc=(n,t)=>{do{var e;if(t=(e=t)==null?void 0:e.previousElementSibling,n==t)return!0}while(t&&t.previousElementSibling);return!1};function Kc(){var n=this;if(n.settings.mode!=="multi")return;var t=n.lock,e=n.unlock;let r=!0,i;n.hook("after","setupTemplates",()=>{var o=n.settings.render.item;n.settings.render.item=(s,a)=>{const l=Bc(o.call(n,s,a));Vc(l,{draggable:"true"});const c=v=>{r||Hc(v),v.stopPropagation()},d=v=>{i=l,setTimeout(()=>{l.classList.add("ts-dragging")},0)},p=v=>{v.preventDefault(),l.classList.add("ts-drag-over"),A(l,i)},m=()=>{l.classList.remove("ts-drag-over")},A=(v,O)=>{O!==void 0&&(zc(O,l)?Uc(v,O):Yc(v,O))},h=()=>{var v;document.querySelectorAll(".ts-drag-over").forEach(S=>S.classList.remove("ts-drag-over")),(v=i)==null||v.classList.remove("ts-dragging"),i=void 0;var O=[];n.control.querySelectorAll("[data-value]").forEach(S=>{if(S.dataset.value){let w=S.dataset.value;w&&O.push(w)}}),n.setValue(O)};return Ye(l,"mousedown",c),Ye(l,"dragstart",d),Ye(l,"dragenter",p),Ye(l,"dragover",p),Ye(l,"dragleave",m),Ye(l,"dragend",h),l}}),n.hook("instead","lock",()=>(r=!1,t.call(n))),n.hook("instead","unlock",()=>(r=!0,e.call(n)))}const Wc=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Jc=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Gc(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Gc=n=>typeof n=="string"&&n.indexOf("<")>-1;function Qc(n){const t=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:r=>'<div class="'+r.headerClass+'"><div class="'+r.titleRowClass+'"><span class="'+r.labelClass+'">'+r.title+'</span><a class="'+r.closeClass+'">&times;</a></div></div>'},n);t.on("initialize",()=>{var r=Jc(e.html(e)),i=r.querySelector("."+e.closeClass);i&&i.addEventListener("click",o=>{Wc(o,!0),t.close()}),t.dropdown.insertBefore(r,t.dropdown.firstChild)})}const Xc=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Zc=(n,...t)=>{var e=eu(t);n=tu(n),n.map(r=>{e.map(i=>{r.classList.remove(i)})})},eu=n=>{var t=[];return Xc(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},tu=n=>(Array.isArray(n)||(n=[n]),n),nu=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function ru(){var n=this;n.hook("instead","setCaret",t=>{n.settings.mode==="single"||!n.control.contains(n.control_input)?t=n.items.length:(t=Math.max(0,Math.min(n.items.length,t)),t!=n.caretPos&&!n.isPending&&n.controlChildren().forEach((e,r)=>{r<t?n.control_input.insertAdjacentElement("beforebegin",e):n.control.appendChild(e)})),n.caretPos=t}),n.hook("instead","moveCaret",t=>{if(!n.isFocused)return;const e=n.getLastActive(t);if(e){const r=nu(e);n.setCaret(t>0?r+1:r),n.setActiveItem(),Zc(e,"last-active")}else n.setCaret(n.caretPos+t)})}const iu=27,su=9,ou=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},au=(n,t,e,r)=>{n.addEventListener(t,e,r)},lu=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},qr=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(cu(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},cu=n=>typeof n=="string"&&n.indexOf("<")>-1,uu=(n,...t)=>{var e=du(t);n=fu(n),n.map(r=>{e.map(i=>{r.classList.add(i)})})},du=n=>{var t=[];return lu(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},fu=n=>(Array.isArray(n)||(n=[n]),n);function pu(){const n=this;n.settings.shouldOpen=!0,n.hook("before","setup",()=>{n.focus_node=n.control,uu(n.control_input,"dropdown-input");const t=qr('<div class="dropdown-input-wrap">');t.append(n.control_input),n.dropdown.insertBefore(t,n.dropdown.firstChild);const e=qr('<input class="items-placeholder" tabindex="-1" />');e.placeholder=n.settings.placeholder||"",n.control.append(e)}),n.on("initialize",()=>{n.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case iu:n.isOpen&&(ou(e,!0),n.close()),n.clearActiveItems();return;case su:n.focus_node.tabIndex=-1;break}return n.onKeyDown.call(n,e)}),n.on("blur",()=>{n.focus_node.tabIndex=n.isDisabled?-1:n.tabIndex}),n.on("dropdown_open",()=>{n.control_input.focus()});const t=n.onBlur;n.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==n.control_input))return t.call(n)}),au(n.control_input,"blur",()=>n.onBlur()),n.hook("before","close",()=>{n.isOpen&&n.focus_node.focus({preventScroll:!0})})})}const xt=(n,t,e,r)=>{n.addEventListener(t,e,r)};function hu(){var n=this;n.on("initialize",()=>{var t=document.createElement("span"),e=n.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",n.wrapper.appendChild(t);var r=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of r)t.style[o]=e.style[o];var i=()=>{t.textContent=e.value,e.style.width=t.clientWidth+"px"};i(),n.on("update item_add item_remove",i),xt(e,"input",i),xt(e,"keyup",i),xt(e,"blur",i),xt(e,"update",i)})}function gu(){var n=this,t=n.deleteSelection;this.hook("instead","deleteSelection",e=>n.activeItems.length?t.call(n,e):!1)}function mu(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const Vr=37,vu=39,yu=(n,t,e)=>{for(;n&&n.matches;){if(n.matches(t))return n;n=n.parentNode}},bu=(n,t)=>{if(!n)return-1;t=t||n.nodeName;for(var e=0;n=n.previousElementSibling;)n.matches(t)&&e++;return e};function wu(){var n=this,t=n.onKeyDown;n.hook("instead","onKeyDown",e=>{var r,i,o,s;if(!n.isOpen||!(e.keyCode===Vr||e.keyCode===vu))return t.call(n,e);n.ignoreHover=!0,s=yu(n.activeOption,"[data-group]"),r=bu(n.activeOption,"[data-selectable]"),s&&(e.keyCode===Vr?s=s.previousSibling:s=s.nextSibling,s&&(o=s.querySelectorAll("[data-selectable]"),i=o[Math.min(o.length-1,r)],i&&n.setActiveOption(i)))})}const Ou=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Ur=(n,t=!1)=>{n&&(n.preventDefault(),t&&n.stopPropagation())},Yr=(n,t,e,r)=>{n.addEventListener(t,e,r)},zr=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(Cu(n)){var t=document.createElement("template");return t.innerHTML=n.trim(),t.content.firstChild}return document.querySelector(n)},Cu=n=>typeof n=="string"&&n.indexOf("<")>-1;function _u(n){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},n);var e=this;if(t.append){var r='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+Ou(t.title)+'">'+t.label+"</a>";e.hook("after","setupTemplates",()=>{var i=e.settings.render.item;e.settings.render.item=(o,s)=>{var a=zr(i.call(e,o,s)),l=zr(r);return a.appendChild(l),Yr(l,"mousedown",c=>{Ur(c,!0)}),Yr(l,"click",c=>{e.isLocked||(Ur(c,!0),!e.isLocked&&e.shouldDelete([a],c)&&(e.removeItem(a),e.refreshOptions(!1),e.inputState()))}),a}})}}function Su(n){const t=this,e=Object.assign({text:r=>r[t.settings.labelField]},n);t.on("item_remove",function(r){if(t.isFocused&&t.control_input.value.trim()===""){var i=t.options[r];i&&t.setTextboxValue(e.text.call(t,i))}})}const Eu=(n,t)=>{if(Array.isArray(n))n.forEach(t);else for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},Au=(n,...t)=>{var e=xu(t);n=Du(n),n.map(r=>{e.map(i=>{r.classList.add(i)})})},xu=n=>{var t=[];return Eu(n,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(t=t.concat(e))}),t.filter(Boolean)},Du=n=>(Array.isArray(n)||(n=[n]),n);function ku(){const n=this,t=n.canLoad,e=n.clearActiveOption,r=n.loadCallback;var i={},o,s=!1,a,l=[];if(n.settings.shouldLoadMore||(n.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(n.activeOption){var m=n.selectable(),A=Array.from(m).indexOf(n.activeOption);if(A>=m.length-2)return!0}return!1}),!n.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";n.settings.sortField=[{field:"$order"},{field:"$score"}];const c=p=>typeof n.settings.maxOptions=="number"&&o.children.length>=n.settings.maxOptions?!1:!!(p in i&&i[p]),d=(p,m)=>n.items.indexOf(m)>=0||l.indexOf(m)>=0;n.setNextUrl=(p,m)=>{i[p]=m},n.getUrl=p=>{if(p in i){const m=i[p];return i[p]=!1,m}return n.clearPagination(),n.settings.firstUrl.call(n,p)},n.clearPagination=()=>{i={}},n.hook("instead","clearActiveOption",()=>{if(!s)return e.call(n)}),n.hook("instead","canLoad",p=>p in i?c(p):t.call(n,p)),n.hook("instead","loadCallback",(p,m)=>{if(!s)n.clearOptions(d);else if(a){const A=p[0];A!==void 0&&(a.dataset.value=A[n.settings.valueField])}r.call(n,p,m),s=!1}),n.hook("after","refreshOptions",()=>{const p=n.lastValue;var m;c(p)?(m=n.render("loading_more",{query:p}),m&&(m.setAttribute("data-selectable",""),a=m)):p in i&&!o.querySelector(".no-results")&&(m=n.render("no_more_results",{query:p})),m&&(Au(m,n.settings.optionClass),o.append(m))}),n.on("initialize",()=>{l=Object.keys(n.options),o=n.dropdown_content,n.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},n.settings.render),o.addEventListener("scroll",()=>{n.settings.shouldLoadMore.call(n)&&c(n.lastValue)&&(s||(s=!0,n.load.call(n,n.lastValue)))})})}oe.define("change_listener",Ic);oe.define("checkbox_options",Pc);oe.define("clear_button",$c);oe.define("drag_drop",Kc);oe.define("dropdown_header",Qc);oe.define("caret_position",ru);oe.define("dropdown_input",pu);oe.define("input_autogrow",hu);oe.define("no_backspace_delete",gu);oe.define("no_active_items",mu);oe.define("optgroup_columns",wu);oe.define("remove_button",_u);oe.define("restore_on_backspace",Su);oe.define("virtual_scroll",ku);window.TomSelect=oe;
